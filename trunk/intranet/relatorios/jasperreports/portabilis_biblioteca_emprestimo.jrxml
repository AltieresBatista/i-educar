<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_biblioteca_emprestimo" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="7e12879e-e835-486d-b897-96332828165f">
	<property name="ireport.zoom" value="1.2100000000000013"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="cliente" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="dt_inicial" class="java.lang.String"/>
	<parameter name="dt_final" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT public.fcn_upper(instituicao.nm_instituicao) as nm_instituicao,
       exemplar_emprestimo.cod_emprestimo,
       exemplar_emprestimo.ref_cod_cliente,
       exemplar_emprestimo.ref_cod_exemplar,
       exemplar.tombo,
       acervo.titulo as titulo,
      translate((select public.fcn_upper(cadastro.pessoa.nome)
          from cadastro.pessoa,
               cadastro.fisica,
               pmieducar.cliente
         where pessoa.idpes = fisica.idpes AND
               fisica.idpes = cliente.ref_idpes AND
               cliente.cod_cliente = exemplar_emprestimo.ref_cod_cliente),'åáàãâäéèêëíìîïóòõôöúùüûçÿýñÅÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÔÖÚÙÛÜÇÝÑ', 'aaaaaaeeeeiiiiooooouuuucyynAAAAAAEEEEIIIIOOOOOUUUUCYN') as cliente,

       to_char(data_retirada,'dd/mm/yyyy') as dt_retirada,
       to_char(data_devolucao,'dd/mm/yyyy') as dt_devolucao,
       exemplar_emprestimo.valor_multa,

       (SELECT biblioteca.nm_biblioteca
          FROM pmieducar.biblioteca
         WHERE acervo.ref_cod_biblioteca = biblioteca.cod_biblioteca) as nm_biblioteca,

      (SELECT COALESCE((SELECT COALESCE (fcn_upper(ps.nome),fcn_upper(juridica.fantasia))
          FROM cadastro.pessoa ps,
               cadastro.juridica
         WHERE escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
	     ps.idpes = escola.ref_idpes),(SELECT nm_escola
                                               FROM pmieducar.escola_complemento
                                              WHERE ref_cod_escola = escola.cod_escola))) AS nm_escola,

       (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.logradouro
                                                    FROM cadastro.endereco_externo
                                                   WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS bairro,

      (SELECT COALESCE((SELECT COALESCE ((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes), (SELECT endereco_externo.cidade FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.numero FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS numero,


      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = instituicao.cod_instituicao))) AS uf_municipio,

     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.ddd,'99'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),COALESCE((SELECT min(to_char(ddd_telefone,'99')) FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola),''))) AS fone_ddd,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = escola.cod_escola))) AS cep,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),COALESCE((SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = escola.cod_escola),''))) AS fone,

   (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica
        WHERE juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS email,

   (select acervo_autor.nm_autor
      from pmieducar.acervo_autor,
           pmieducar.acervo_acervo_autor
     where acervo_acervo_autor.ref_cod_acervo_autor = acervo_autor.cod_acervo_autor AND
           acervo_acervo_autor.ref_cod_acervo = acervo.cod_acervo AND
           acervo_acervo_autor.principal = 1) as autor,

(SELECT dias_emprestimo
  FROM pmieducar.cliente_tipo_exemplar_tipo,
       pmieducar.cliente_tipo,
       pmieducar.cliente,
       pmieducar.cliente_tipo_cliente,
       pmieducar.exemplar_tipo
 WHERE cliente_tipo_exemplar_tipo.ref_cod_cliente_tipo = cliente_tipo.cod_cliente_tipo AND
       cliente_tipo.ref_cod_biblioteca = biblioteca.cod_biblioteca AND
       cliente.cod_cliente = cliente_tipo_cliente.ref_cod_cliente AND
       cliente_tipo_cliente.ref_cod_cliente = exemplar_emprestimo.ref_cod_cliente AND
       cliente_tipo_cliente.ref_cod_cliente_tipo = cliente_tipo.cod_cliente_tipo AND
       cliente_tipo_exemplar_tipo.ref_cod_exemplar_tipo = exemplar_tipo.cod_exemplar_tipo AND
       exemplar_tipo.cod_exemplar_tipo = acervo.ref_cod_exemplar_tipo) as dias,

  (SELECT CAST(exemplar_emprestimo.data_retirada as DATE) + (SELECT CAST(dias_emprestimo as integer)
  FROM pmieducar.cliente_tipo_exemplar_tipo,
       pmieducar.cliente_tipo,
       pmieducar.cliente,
       pmieducar.cliente_tipo_cliente,
       pmieducar.exemplar_tipo
 WHERE cliente_tipo_exemplar_tipo.ref_cod_cliente_tipo = cliente_tipo.cod_cliente_tipo AND
       cliente_tipo.ref_cod_biblioteca = biblioteca.cod_biblioteca AND
       cliente.cod_cliente = cliente_tipo_cliente.ref_cod_cliente AND
       cliente_tipo_cliente.ref_cod_cliente = exemplar_emprestimo.ref_cod_cliente AND
       cliente_tipo_cliente.ref_cod_cliente_tipo = cliente_tipo.cod_cliente_tipo AND
       cliente_tipo_exemplar_tipo.ref_cod_exemplar_tipo = exemplar_tipo.cod_exemplar_tipo AND
       exemplar_tipo.cod_exemplar_tipo = acervo.ref_cod_exemplar_tipo)) as data_entrega,

(SELECT pessoa.nome
   FROM cadastro.pessoa,
        cadastro.juridica,
        pmieducar.escola
  WHERE pessoa.idpes = juridica.idpes AND
        juridica.idpes = escola.ref_idpes AND
        escola.cod_escola = (SELECT min(matricula.ref_ref_cod_escola)
                               FROM pmieducar.cliente,
                                    pmieducar.aluno,
                                    pmieducar.matricula
                              WHERE cliente.ref_idpes = aluno.ref_idpes AND
                                    aluno.cod_aluno = matricula.ref_cod_aluno AND
                                    matricula.ultima_matricula = 1 AND
                                    cliente.cod_cliente = exemplar_emprestimo.ref_cod_cliente)) as escola_aluno,

(SELECT curso.nm_curso
   FROM pmieducar.curso
  WHERE curso.cod_curso = (SELECT min(matricula.ref_cod_curso)
                            FROM pmieducar.cliente,
                                 pmieducar.aluno,
                                 pmieducar.matricula
                           WHERE cliente.ref_idpes = aluno.ref_idpes AND
                                 aluno.cod_aluno = matricula.ref_cod_aluno AND
                                 matricula.ultima_matricula = 1 AND
                                 cliente.cod_cliente = exemplar_emprestimo.ref_cod_cliente)) as curso_aluno,

(SELECT COALESCE(serie.nm_serie,'')
   FROM pmieducar.serie
 WHERE serie.cod_serie = (SELECT min(matricula.ref_ref_cod_serie)
                            FROM pmieducar.cliente,
                                 pmieducar.aluno,
                                 pmieducar.matricula
                           WHERE cliente.ref_idpes = aluno.ref_idpes AND
                                 aluno.cod_aluno = matricula.ref_cod_aluno AND
                                 matricula.ultima_matricula = 1 AND
                                 cliente.cod_cliente = exemplar_emprestimo.ref_cod_cliente)) as serie_aluno,

(SELECT COALESCE(turma.nm_turma,'')
   FROM pmieducar.turma,
        pmieducar.matricula_turma
  WHERE matricula_turma.ref_cod_turma = turma.cod_turma AND
        matricula_turma.ativo = 1 AND
        matricula_turma.ref_cod_matricula = (SELECT min(matricula.cod_matricula)
                                               FROM pmieducar.cliente,
                                                    pmieducar.aluno,
                                                    pmieducar.matricula
                                              WHERE cliente.ref_idpes = aluno.ref_idpes AND
                                                    aluno.cod_aluno = matricula.ref_cod_aluno AND
                                                    matricula.ultima_matricula = 1 AND
                                                    cliente.cod_cliente = exemplar_emprestimo.ref_cod_cliente)) as aluno_turma


  FROM pmieducar.acervo,
       pmieducar.biblioteca,
       pmieducar.instituicao,
       pmieducar.escola,
       pmieducar.exemplar,
       pmieducar.exemplar_emprestimo
 WHERE instituicao.cod_instituicao = $P{instituicao} AND
       instituicao.cod_instituicao = biblioteca.ref_cod_instituicao AND
       acervo.ref_cod_biblioteca = biblioteca.cod_biblioteca AND
       acervo.cod_acervo = exemplar.ref_cod_acervo AND
       exemplar.ativo = 1 AND
       acervo.ativo = 1 AND
       exemplar_emprestimo.ref_cod_exemplar = exemplar.cod_exemplar AND
       escola.cod_escola = $P{escola} AND
       biblioteca.ref_cod_escola = escola.cod_escola AND
       acervo.ativo = 1 AND
       exemplar.ref_cod_acervo = acervo.cod_acervo AND
       exemplar.cod_exemplar = exemplar_emprestimo.ref_cod_exemplar AND
       (to_char(exemplar_emprestimo.data_retirada,'dd/mm/yyyy') >= $P{dt_inicial}) AND
       (to_char(exemplar_emprestimo.data_retirada,'dd/mm/yyyy') <= $P{dt_final}) AND
      (SELECT CASE WHEN $P{cliente} <> 0 THEN
                     exemplar_emprestimo.ref_cod_cliente = $P{cliente}
                   ELSE
                     exemplar_emprestimo.ref_cod_cliente = exemplar_emprestimo.ref_cod_cliente
                   END) AND
      exemplar_emprestimo.ref_cod_exemplar = exemplar_emprestimo.ref_cod_exemplar AND
      exemplar_emprestimo.data_devolucao is NULL

ORDER BY cliente]]>
	</queryString>
	<field name="nm_instituicao" class="java.lang.String"/>
	<field name="cod_emprestimo" class="java.lang.Integer"/>
	<field name="ref_cod_cliente" class="java.lang.Integer"/>
	<field name="ref_cod_exemplar" class="java.lang.Integer"/>
	<field name="tombo" class="java.lang.Integer"/>
	<field name="titulo" class="java.lang.String"/>
	<field name="cliente" class="java.lang.String"/>
	<field name="dt_retirada" class="java.lang.String"/>
	<field name="dt_devolucao" class="java.lang.String"/>
	<field name="valor_multa" class="java.lang.Double"/>
	<field name="nm_biblioteca" class="java.lang.String"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="fone_ddd" class="java.lang.String"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="autor" class="java.lang.String"/>
	<field name="dias" class="java.math.BigDecimal"/>
	<field name="data_entrega" class="java.sql.Date"/>
	<field name="escola_aluno" class="java.lang.String"/>
	<field name="curso_aluno" class="java.lang.String"/>
	<field name="serie_aluno" class="java.lang.String"/>
	<field name="aluno_turma" class="java.lang.String"/>
	<group name="cliente">
		<groupExpression><![CDATA[$F{ref_cod_cliente}]]></groupExpression>
		<groupHeader>
			<band height="18">
				<textField isBlankWhenNull="true">
					<reportElement uuid="61bb0a29-c07b-47cb-b112-1579bb1c1ed1" isPrintRepeatedValues="false" x="238" y="3" width="154" height="13"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{escola_aluno}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="106" splitType="Stretch">
			<image>
				<reportElement uuid="c06cead2-a5f1-4da2-b038-cb910d21d27e" x="9" y="2" width="57" height="46"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="15" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement uuid="14fd51e8-9220-44d7-b767-7f91cc3601e9" x="75" y="-76" width="307" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Endereço: "+$F{logradouro}+", "+$F{numero}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="9144263a-35de-4cfc-b311-dddeb06b74e0" x="75" y="-104" width="307" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_instituicao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="e9684eaf-2c27-49c7-b7f7-a5fe8d2af3e6" x="305" y="-52" width="233" height="13" forecolor="#000000"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA["E-mail: "+$F{email}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="145861b8-6643-427c-babd-52e06b6c988d" x="305" y="-64" width="141" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{municipio}+" - "+$F{uf_municipio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="6cf1f241-aa4b-4c05-9f4f-9d846d5fcd8b" x="449" y="-64" width="77" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CEP: "+$F{cep}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="efef60f9-6e20-4467-90e5-c62f0952d86d" x="75" y="-90" width="307" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="b3a75340-1312-4353-892c-e34a5ae9eff3" x="75" y="-64" width="228" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Bairro:" +$F{bairro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="b17f9d6a-c0f5-48a1-a4fb-f8c5fae0e792" x="75" y="-52" width="201" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Telefone: ("+$F{fone_ddd}+") "+$F{fone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="e203194f-7ddf-4eff-82cb-177a0698f27b" x="11" y="1" width="292" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Biblioteca: "+$F{nm_biblioteca}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="33" splitType="Stretch">
			<staticText>
				<reportElement uuid="80637d27-b1e7-450d-b9dc-f2b11c2bf606" x="25" y="1" width="35" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Código]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="bc603c63-461b-458f-9028-fcf8c6d995c6" x="65" y="1" width="30" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Cliente]]></text>
			</staticText>
			<line>
				<reportElement uuid="e218f938-23ae-4dc8-84e3-19945196d794" x="7" y="29" width="544" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement uuid="aa98baa1-6e0d-4353-b59f-d9fc6fd7f85e" x="183" y="15" width="30" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Tombo]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="a76690b4-0953-4598-a8bb-309406bea737" x="219" y="15" width="40" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Exemplar]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c1b46f35-cc9b-41bd-8d11-eb026a9bae41" x="443" y="15" width="37" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Retirada]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c1e88cb5-b655-4168-96a8-82b472c0c6b2" x="206" y="-34" width="138" height="14"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Empréstimos]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c1b46f35-cc9b-41bd-8d11-eb026a9bae41" x="499" y="15" width="50" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Devolução]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="a76690b4-0953-4598-a8bb-309406bea737" x="402" y="1" width="40" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Série:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c1b46f35-cc9b-41bd-8d11-eb026a9bae41" x="492" y="1" width="37" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Turma]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="aa98baa1-6e0d-4353-b59f-d9fc6fd7f85e" x="238" y="1" width="30" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Escola]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="16" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement uuid="274b399b-9207-483e-83dd-86769e5e8bc7" isPrintRepeatedValues="false" x="25" y="-16" width="35" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ref_cod_cliente}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="f3b92160-c930-474b-a610-c7585b1f7cfb" isPrintRepeatedValues="false" x="65" y="-16" width="166" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cliente}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="860b912b-dbb1-4e65-805f-94a8ce4ea0a9" x="183" y="2" width="30" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tombo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="3c247c45-92bf-4e67-84d3-ab5b13a23617" x="219" y="2" width="170" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{titulo}]]></textFieldExpression>
			</textField>
			<textField pattern="MM/dd/yyyy" isBlankWhenNull="true">
				<reportElement uuid="6df4cea6-efc9-4ebd-ac59-357083e991bd" x="443" y="2" width="52" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dt_retirada}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement uuid="65098f98-29f0-4b6f-968e-801c481770a7" x="499" y="2" width="52" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{data_entrega}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="1bc36cdc-eac1-45ef-aecf-759e59835adf" isPrintRepeatedValues="false" x="402" y="-15" width="83" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{serie_aluno}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="90e32a12-fe4f-443a-929d-66e076f5ceac" isPrintRepeatedValues="false" x="492" y="-15" width="57" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{aluno_turma}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement uuid="cca4279d-a35b-46ad-9fa7-ce5433a86aff" x="25" y="5" width="151" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Total de empréstimos: "+$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="3554696f-6ff3-4607-9cf5-a6211f733fd1" x="7" y="2" width="544" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
		</band>
	</pageFooter>
	<summary>
		<band height="3" splitType="Stretch"/>
	</summary>
</jasperReport>
