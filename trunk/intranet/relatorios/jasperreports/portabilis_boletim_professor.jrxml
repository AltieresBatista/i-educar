<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_boletim_professor" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.331000000000001"/>
	<property name="ireport.x" value="280"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ano" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="curso" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="serie" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="turma" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="disciplina" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="professor" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT public.fcn_upper(nm_instituicao) AS nome_instituicao,
       public.fcn_upper(nm_responsavel) AS nome_responsavel,
       instituicao.cidade AS cidade_instituicao,
       public.fcn_upper(ref_sigla_uf) AS uf_instituicao,
       escola.cod_escola AS cod_escola,
       escola_ano_letivo.ano,
       curso.nm_curso,
       serie.nm_serie,
       turma.nm_turma,
       to_char(CURRENT_DATE,'dd/mm/yyyy') AS data_atual,
       to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual,

    (SELECT CASE WHEN date_part('hour',hora_inicial) = 6 or date_part('hour',hora_inicial) = 7 or date_part('hour',hora_inicial) = 8 THEN 'Matutino'
                     WHEN date_part('hour',hora_inicial) = 13 or date_part('hour',hora_inicial) = 14 THEN 'Vespertino'
                     WHEN date_part('hour',hora_inicial) = 18 or date_part('hour',hora_inicial) = 19 THEN 'Noturno'
                END
	       FROM pmieducar.turma,
                pmieducar.matricula_turma
          WHERE turma.cod_turma = matricula_turma.ref_cod_turma AND
                matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
                turma.ativo = 1 AND
		        matricula_turma.ativo = 1 AND
                hora_inicial IS NOT NULL) AS periodo,

      (SELECT COALESCE((SELECT COALESCE (fcn_upper(ps.nome),fcn_upper(juridica.fantasia))
          FROM cadastro.pessoa ps,
               cadastro.juridica
         WHERE escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
			   ps.idpes = escola.ref_idpes),(SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS nm_escola,

      (SELECT fcn_upper(substring(logradouro.idtlog from 1 for 1)) ||
              lower(substring(logradouro.idtlog, 2))
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes) AS tipo_logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.logradouro FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS bairro,

      (SELECT COALESCE((SELECT COALESCE ((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes), (SELECT endereco_externo.cidade FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.numero FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS numero,


      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = instituicao.cod_instituicao))) AS uf_municipio,

     (SELECT COALESCE((SELECT min(fone_pessoa.ddd)
         FROM cadastro.fone_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT min(ddd_telefone) FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS fone_ddd,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.cod_escola))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = escola.cod_escola))) AS cep,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = escola.cod_escola))) AS fone,

   (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica
        WHERE juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS email,

       to_char(current_date,'dd/mm/yyyy') AS data_atual,
       to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual,
       matricula.cod_matricula,

     (SELECT public.fcn_upper(pessoa.nome)
        FROM cadastro.pessoa,
             cadastro.fisica
       WHERE pessoa.idpes = fisica.idpes AND
             fisica.idpes = aluno.ref_idpes) AS nome_aluno,

   (SELECT CASE  WHEN nota_arredondada = 10 THEN
                      '10,0'
			           WHEN char_length(et1.nota_arredondada) = 1 THEN
			                replace(et1.nota_arredondada,'.',',') || ',0'
                 ELSE
                      replace(et1.nota_arredondada,'.',',')
                 END
    FROM modules.nota_componente_curricular et1,
         modules.nota_aluno
   WHERE et1.componente_curricular_id = $P{disciplina} AND
         et1.etapa = 1 AND
         nota_aluno.id  = et1.nota_aluno_id AND
         nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa1,

   (SELECT CASE  WHEN nota_arredondada = 10 THEN
                      '10,0'
			           WHEN char_length(et1.nota_arredondada) = 1 THEN
			                replace(et1.nota_arredondada,'.',',') || ',0'
                 ELSE
                      replace(et1.nota_arredondada,'.',',')
                 END
    FROM modules.nota_componente_curricular et1,
         modules.nota_aluno
   WHERE et1.componente_curricular_id = $P{disciplina} AND
         et1.etapa = 2 AND
         nota_aluno.id  = et1.nota_aluno_id AND
         nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa2,

   (SELECT CASE  WHEN nota_arredondada = 10 THEN
                      '10,0'
			           WHEN char_length(et1.nota_arredondada) = 1 THEN
			                replace(et1.nota_arredondada,'.',',') || ',0'
                 ELSE
                      replace(et1.nota_arredondada,'.',',')
                 END
    FROM modules.nota_componente_curricular et1,
         modules.nota_aluno
   WHERE et1.componente_curricular_id = $P{disciplina} AND
         et1.etapa = 3 AND
         nota_aluno.id  = et1.nota_aluno_id AND
         nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa3,

   (SELECT CASE  WHEN nota_arredondada = 10 THEN
                      '10,0'
			           WHEN char_length(et1.nota_arredondada) = 1 THEN
			                replace(et1.nota_arredondada,'.',',') || ',0'
                 ELSE
                      replace(et1.nota_arredondada,'.',',')
                 END
    FROM modules.nota_componente_curricular et1,
         modules.nota_aluno
   WHERE et1.componente_curricular_id = $P{disciplina} AND
         et1.etapa = 4 AND
         nota_aluno.id  = et1.nota_aluno_id AND
         nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa4,

		(SELECT CASE WHEN (SELECT mt.aprovado
		                     FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 1 THEN 'Aprovado'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 2 THEN 'Reprovado'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 3 THEN 'Em Andamento'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 4 THEN 'Transferido'
                ELSE 'Reclassificado'
                END) AS situacao,

    (SELECT componente_curricular.nome
       FROM modules.componente_curricular
      WHERE componente_curricular.id = $P{disciplina}) as nome_disciplina,

        (SELECT to_number(100::float -  ((SELECT sum(falta_geral.quantidade)
          FROM modules.falta_geral,
               modules.falta_aluno
         WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
               falta_aluno.matricula_id = matricula.cod_matricula AND
               falta_geral.etapa in('1','2','3','4'))::float / 800::float )::float * 100,'999')) AS frequencia,

  (SELECT to_number(100::float -  ((SELECT sum(falta_componente_curricular.quantidade)
          FROM modules.falta_componente_curricular,
               modules.falta_aluno
         WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
               falta_aluno.matricula_id = matricula.cod_matricula AND
               falta_componente_curricular.etapa in ('1','2','3','4'))::float / 800::float )::float * 100,'999')) AS frequencia_componente,

            (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 1) as faltas_disc_et1,

        (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 2) as faltas_disc_et2,

        (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 3) as faltas_disc_et3,

        (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 4) as faltas_disc_et4,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 1 AND
				falta_aluno.tipo_falta = 1) as total_faltas_et1,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 2 AND
				falta_aluno.tipo_falta = 1) as total_faltas_et2,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 3 AND
                falta_aluno.tipo_falta = 1) as total_faltas_et3,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 4 AND
				falta_aluno.tipo_falta = 1) as total_faltas_et4,

 (SELECT CASE  WHEN et1.nota_arredondada = 10 THEN
			                   '10,0'
			               WHEN char_length(et1.nota_arredondada) = 1 THEN
			                   replace(et1.nota_arredondada,'.',',') || ',0'
                           ELSE
                               replace(et1.nota_arredondada,'.',',')
                           END
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = $P{disciplina} AND
					 et1.etapa = 'Rc' AND
                              nota_aluno.id  = et1.nota_aluno_id AND
         nota_aluno.matricula_id = matricula.cod_matricula) AS nota_exame,

 (SELECT CASE  WHEN cm.media_arredondada = 10 THEN
			                   '10,0'
			               WHEN char_length(cm.media_arredondada) = 1 THEN
			                   replace(cm.media_arredondada,'.',',') || ',0'
                           ELSE
                               replace(cm.media_arredondada,'.',',')
                           END
		FROM modules.nota_componente_curricular_media cm,
                     modules.nota_aluno
               WHERE cm.nota_aluno_id = nota_aluno.id  AND
                     cm.componente_curricular_id = $P{disciplina} AND
                     cm.etapa = 4) AS media


  FROM pmieducar.instituicao,
       pmieducar.escola,
       pmieducar.escola_ano_letivo,
       pmieducar.escola_curso,
       pmieducar.escola_serie,
       pmieducar.curso,
       pmieducar.serie,
       pmieducar.turma,
       pmieducar.matricula,
       pmieducar.matricula_turma,
       pmieducar.aluno

 WHERE escola_ano_letivo.ano = $P{ano} AND
       instituicao.cod_instituicao = $P{instituicao} AND
       escola.cod_escola = $P{escola} AND
       curso.cod_curso = $P{curso} AND
       serie.cod_serie = $P{serie} AND
       turma.cod_turma = $P{turma} AND
       escola_serie.ref_cod_serie = serie.cod_serie AND
       escola_curso.ref_cod_curso = curso.cod_curso AND
       escola_curso.ref_cod_escola = escola.cod_escola AND
       escola_ano_letivo.ref_cod_escola = escola.cod_escola AND
       escola_serie.ref_cod_escola = escola.cod_escola AND
       escola.ref_cod_instituicao = instituicao.cod_instituicao AND
       aluno.cod_aluno = matricula.ref_cod_aluno AND
       matricula.cod_matricula = matricula_turma.ref_cod_matricula AND
       turma.cod_turma = matricula_turma.ref_cod_turma AND
       turma.ref_ref_cod_serie = escola_serie.ref_cod_serie AND
       turma.ref_ref_cod_escola = escola_serie.ref_cod_escola AND
       turma.ref_cod_curso = curso.cod_curso AND
       matricula_turma.ativo = 1 AND
       matricula.ultima_matricula > 0 AND
       matricula.aprovado = 3 AND
       matricula.ano = $P{ano}

ORDER BY nome_aluno ASC]]>
	</queryString>
	<field name="nome_instituicao" class="java.lang.String"/>
	<field name="nome_responsavel" class="java.lang.String"/>
	<field name="cidade_instituicao" class="java.lang.String"/>
	<field name="uf_instituicao" class="java.lang.String"/>
	<field name="cod_escola" class="java.lang.Integer"/>
	<field name="ano" class="java.lang.Integer"/>
	<field name="nm_curso" class="java.lang.String"/>
	<field name="nm_serie" class="java.lang.String"/>
	<field name="nm_turma" class="java.lang.String"/>
	<field name="data_atual" class="java.lang.String"/>
	<field name="hora_atual" class="java.lang.String"/>
	<field name="periodo" class="java.lang.String"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="tipo_logradouro" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="fone_ddd" class="java.math.BigDecimal"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="cod_matricula" class="java.lang.Integer"/>
	<field name="nome_aluno" class="java.lang.String"/>
	<field name="nota_arredondada_etapa1" class="java.lang.String"/>
	<field name="nota_arredondada_etapa2" class="java.lang.String"/>
	<field name="nota_arredondada_etapa3" class="java.lang.String"/>
	<field name="nota_arredondada_etapa4" class="java.lang.String"/>
	<field name="situacao" class="java.lang.String"/>
	<field name="nome_disciplina" class="java.lang.String"/>
	<field name="frequencia" class="java.math.BigDecimal"/>
	<field name="frequencia_componente" class="java.math.BigDecimal"/>
	<field name="faltas_disc_et1" class="java.lang.Integer"/>
	<field name="faltas_disc_et2" class="java.lang.Integer"/>
	<field name="faltas_disc_et3" class="java.lang.Integer"/>
	<field name="faltas_disc_et4" class="java.lang.Integer"/>
	<field name="total_faltas_et1" class="java.lang.Long"/>
	<field name="total_faltas_et2" class="java.lang.Long"/>
	<field name="total_faltas_et3" class="java.lang.Long"/>
	<field name="total_faltas_et4" class="java.lang.Long"/>
	<field name="nota_exame" class="java.lang.String"/>
	<field name="media" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="175" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="597" y="53" width="77" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["CEP: "+$F{cep}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="132" y="28" width="315" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="601" y="4" width="138" height="13"/>
				<textElement>
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Emissão: "+$F{data_atual}+" "+$F{hora_atual}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="406" y="53" width="183" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{municipio}+" - "+$F{uf_municipio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="132" y="40" width="315" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Endereço: "+$F{logradouro}+", "+$F{numero}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="132" y="4" width="315" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nome_instituicao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="406" y="65" width="162" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["E-mail: "+$F{email}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="132" y="65" width="262" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Fone/Fax: ("+$F{fone_ddd}+") "+$F{fone}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="377" y="86" width="141" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Boletim do Professor]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="116" y="116" width="165" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nm_curso}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="66" y="116" width="48" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Curso:]]></text>
			</staticText>
			<staticText>
				<reportElement x="66" y="130" width="48" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Disciplina:]]></text>
			</staticText>
			<staticText>
				<reportElement x="286" y="116" width="35" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Turno:]]></text>
			</staticText>
			<staticText>
				<reportElement x="402" y="116" width="35" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Série:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="438" y="116" width="84" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nm_serie}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="530" y="116" width="35" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Turma:]]></text>
			</staticText>
			<staticText>
				<reportElement x="674" y="116" width="27" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Ano:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="566" y="116" width="100" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nm_turma}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="702" y="116" width="37" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{ano}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="286" y="130" width="58" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Professor(a):]]></text>
			</staticText>
			<staticText>
				<reportElement x="66" y="157" width="44" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Aluno]]></text>
			</staticText>
			<staticText>
				<reportElement x="301" y="159" width="31" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Nota]]></text>
			</staticText>
			<staticText>
				<reportElement x="339" y="159" width="9" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<staticText>
				<reportElement x="356" y="159" width="31" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Nota]]></text>
			</staticText>
			<staticText>
				<reportElement x="410" y="159" width="31" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Nota]]></text>
			</staticText>
			<staticText>
				<reportElement x="464" y="159" width="31" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Nota]]></text>
			</staticText>
			<staticText>
				<reportElement x="394" y="159" width="9" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<staticText>
				<reportElement x="447" y="159" width="9" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<staticText>
				<reportElement x="501" y="159" width="9" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<line>
				<reportElement x="58" y="113" width="685" height="1"/>
			</line>
			<line>
				<reportElement x="58" y="144" width="685" height="1"/>
			</line>
			<line>
				<reportElement x="57" y="114" width="1" height="60"/>
			</line>
			<line>
				<reportElement x="743" y="114" width="1" height="60"/>
			</line>
			<line>
				<reportElement x="58" y="174" width="685" height="1"/>
			</line>
			<line>
				<reportElement x="351" y="145" width="1" height="30"/>
			</line>
			<line>
				<reportElement x="297" y="144" width="1" height="31"/>
			</line>
			<line>
				<reportElement x="405" y="145" width="1" height="30"/>
			</line>
			<line>
				<reportElement x="459" y="144" width="1" height="30"/>
			</line>
			<line>
				<reportElement x="513" y="144" width="1" height="30"/>
			</line>
			<staticText>
				<reportElement x="518" y="146" width="31" height="13"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Exame]]></text>
			</staticText>
			<staticText>
				<reportElement x="559" y="146" width="50" height="13"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Média Final]]></text>
			</staticText>
			<line>
				<reportElement x="553" y="145" width="1" height="30"/>
			</line>
			<staticText>
				<reportElement x="620" y="159" width="27" height="13"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Freq.]]></text>
			</staticText>
			<staticText>
				<reportElement x="656" y="159" width="83" height="13"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Situação]]></text>
			</staticText>
			<line>
				<reportElement x="613" y="145" width="1" height="30"/>
			</line>
			<line>
				<reportElement x="651" y="144" width="1" height="30"/>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="323" y="116" width="75" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{periodo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="345" y="130" width="138" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{professor}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="58" y="4" width="57" height="46"/>
				<imageExpression class="java.lang.String"><![CDATA["imagens/brasao.jpg"]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement x="132" y="16" width="315" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nome_responsavel}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="132" y="53" width="262" height="13"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Bairro:" +$F{bairro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="116" y="130" width="165" height="13"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nome_disciplina}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="14" splitType="Stretch">
			<textField>
				<reportElement x="66" y="1" width="229" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nome_aluno}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="57" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="58" y="13" width="685" height="1"/>
			</line>
			<line>
				<reportElement x="743" y="0" width="1" height="14"/>
			</line>
			<line>
				<reportElement x="297" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="351" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="335" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="390" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="405" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="443" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="459" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="497" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="513" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="553" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="613" y="0" width="1" height="13"/>
			</line>
			<line>
				<reportElement x="651" y="0" width="1" height="13"/>
			</line>
			<textField>
				<reportElement x="301" y="1" width="31" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nota_arredondada_etapa1}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="356" y="1" width="31" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nota_arredondada_etapa2}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="410" y="1" width="31" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nota_arredondada_etapa3}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="464" y="1" width="31" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nota_arredondada_etapa4}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="656" y="1" width="83" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{situacao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="620" y="1" width="27" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{frequencia}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="620" y="1" width="27" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{frequencia_componente}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="338" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{faltas_disc_et1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="392" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{faltas_disc_et2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="446" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{faltas_disc_et3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="500" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{faltas_disc_et4}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="338" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{total_faltas_et1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="392" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{total_faltas_et2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="446" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{total_faltas_et3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="500" y="0" width="10" height="13"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{total_faltas_et4}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="518" y="1" width="31" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nota_exame}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="568" y="1" width="31" height="11"/>
				<textElement textAlignment="Center">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{media}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="5" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="6" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="5" splitType="Stretch"/>
	</summary>
</jasperReport>
