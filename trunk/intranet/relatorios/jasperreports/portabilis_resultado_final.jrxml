<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_resultado_final" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="0378c531-ef85-4c42-9c57-3c8660b99c2d">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="linha-zebrado" hAlign="Center">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(($V{ROW_COUNT}.intValue() % 2) == 0)]]></conditionExpression>
			<style backcolor="#F0F0F0"/>
		</conditionalStyle>
	</style>
	<parameter name="ano" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="curso" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="serie" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="turma" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT DISTINCT
       matricula.cod_matricula,
       matricula.ref_cod_aluno AS cod_aluno,

      (SELECT translate(public.fcn_upper(pessoa.nome),'åáàãâäéèêëíìîïóòõôöúùüûçÿýñÅÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÔÖÚÙÛÜÇÝÑ', 'aaaaaaeeeeiiiiooooouuuucyynAAAAAAEEEEIIIIOOOOOUUUUCYN')
	       FROM cadastro.pessoa, cadastro.fisica, pmieducar.aluno
	      WHERE pessoa.idpes = fisica.idpes AND
	            fisica.idpes = aluno.ref_idpes AND
	            aluno.cod_aluno = matricula.ref_cod_aluno LIMIT 1
      ) AS nm_aluno,

      (CASE matricula.aprovado
	          WHEN 1 THEN 'Apr'
	          WHEN 2 THEN 'Rep'
	          WHEN 3 THEN 'And'
	          WHEN 4 THEN 'Trs'
                    WHEN 6 THEN 'Aba'
	          ELSE 'Rec'
      END) AS situacao,

(SELECT COALESCE((SELECT to_number((((select serie.dias_letivos
                       from pmieducar.serie
                      where serie.cod_serie = matricula.ref_ref_cod_serie)::float -
                   (SELECT sum(falta_geral.quantidade)
                       FROM modules.falta_geral,
                            modules.falta_aluno
                      WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                            falta_aluno.matricula_id = matricula.cod_matricula AND
                            falta_geral.etapa in('1','2','3','4')))::float * 100::float )::float /
                            (select serie.dias_letivos from pmieducar.serie where serie.cod_serie = matricula.ref_ref_cod_serie) :: float,'999')),


(100 - (((SELECT sum(falta_componente_curricular.quantidade)
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa in ('1','2','3','4') AND
				falta_aluno.tipo_falta = 2) * (select curso.hora_falta * 100 from pmieducar.curso where curso.cod_curso = matricula.ref_cod_curso))/
                                                              (select serie.carga_horaria from pmieducar.serie where  serie.cod_serie = matricula.ref_ref_cod_serie))))) AS frequencia_geral,

  (SELECT CASE WHEN matricula.aprovado != 4 THEN

     (select CASE WHEN nota_componente_curricular_media.media_arredondada = 10 THEN
       '10,0'
     WHEN char_length(nota_componente_curricular_media.media_arredondada) = 1 THEN
       replace(nota_componente_curricular_media.media_arredondada,'.',',') || ',0'
     ELSE
       replace(nota_componente_curricular_media.media_arredondada,'.',',')
     END
     FROM modules.nota_componente_curricular_media,
          modules.nota_aluno
     WHERE nota_componente_curricular_media.nota_aluno_id = nota_aluno.id AND
       nota_componente_curricular_media.componente_curricular_id = componente_curricular.id AND
       nota_aluno.matricula_id = matricula.cod_matricula)
  ELSE
    '-'
  END) as media,

      componente_curricular.abreviatura AS nm_componente_curricular,

      (SELECT escola_ano_letivo.ano
          FROM pmieducar.escola_ano_letivo
         WHERE escola_ano_letivo.ref_cod_escola = $P{escola} and
		       ano = $P{ano}) AS ano,

      (SELECT public.fcn_upper(instituicao.nm_responsavel)
         FROM pmieducar.instituicao
        WHERE instituicao.cod_instituicao = $P{instituicao}) AS nome_responsavel,

      (SELECT COALESCE((SELECT public.fcn_upper(ps.nome)
          FROM cadastro.pessoa ps,
               cadastro.juridica,
               pmieducar.escola
         WHERE escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
               escola.cod_escola = $P{escola}),(SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS nm_escola,


      (SELECT public.fcn_upper(instituicao.nm_instituicao)
         FROM pmieducar.instituicao
        WHERE instituicao.cod_instituicao = $P{instituicao}) AS nome_instituicao,

      (SELECT public.fcn_upper(substring(logradouro.idtlog from 1 for 1)) ||
              lower(substring(logradouro.idtlog, 2))
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}) AS tipo_logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.logradouro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.cidade FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS bairro,

      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = $P{instituicao}))) AS uf_municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.numero FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS numero,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS cep,

     (SELECT COALESCE((SELECT min(fone_pessoa.ddd)
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT min(ddd_telefone) FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS fone_ddd,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS fone,

     (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS email,

	   (SELECT curso.nm_curso
        FROM pmieducar.curso
	     WHERE curso.cod_curso = matricula.ref_cod_curso AND
             curso.ativo = 1 AND
             curso.cod_curso = $P{curso}) AS nome_curso,

     (SELECT serie.nm_serie
        FROM pmieducar.serie
	     WHERE serie.cod_serie = matricula.ref_ref_cod_serie AND
             serie.ativo = 1 AND
             serie.cod_serie = $P{serie}) AS nome_serie,

	    (SELECT turma.nm_turma
	       FROM pmieducar.turma,
                    pmieducar.matricula_turma
              WHERE turma.cod_turma = $P{turma} AND
                    matricula_turma.ref_cod_turma = turma.cod_turma AND
                    matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
                    turma.ativo = 1 AND
		matricula_turma.ativo = 1) AS nome_turma,

       (select turma_turno.nm_turno from pmieducar.turma_turno, pmieducar.turma where turma_turno.turma_turno_id = turma.turma_turno_id and turma.cod_turma = matricula_turma.ref_cod_turma and  instituicao_id = $P{instituicao} limit 1) as periodo


 FROM pmieducar.escola_ano_letivo,
   pmieducar.matricula,
   pmieducar.matricula_turma,
   modules.componente_curricular


WHERE
  escola_ano_letivo.ativo = 1 AND
  escola_ano_letivo.ref_cod_escola = matricula.ref_ref_cod_escola AND
  escola_ano_letivo.ano = $P{ano} AND
  matricula.ref_ref_cod_escola = $P{escola} AND
  matricula.ref_cod_curso = $P{curso} AND
  matricula.ref_ref_cod_serie = $P{serie} AND
  matricula.ativo = 1 AND
  matricula.ano = $P{ano} AND
  matricula_turma.ref_cod_turma = $P{turma} AND
  (matricula_turma.ativo = 1 or exists( select 1 from pmieducar.transferencia_solicitacao
                                                     where ref_cod_matricula_saida = matricula.cod_matricula and
                                                           ativo = 1 limit 1)) and
  matricula_turma.ref_cod_matricula = matricula.cod_matricula AND


  CASE WHEN (select 1 from modules.componente_curricular_turma
    WHERE componente_curricular_turma.turma_id = matricula_turma.ref_cod_turma AND
    componente_curricular_turma.escola_id = matricula.ref_ref_cod_escola limit 1) = 1 THEN

    componente_curricular.id in (select componente_curricular_id from modules.componente_curricular_turma
    where componente_curricular_turma.escola_id = matricula.ref_ref_cod_escola AND
    componente_curricular_turma.turma_id = matricula_turma.ref_cod_turma)
  ELSE
    componente_curricular.id in (select ref_cod_disciplina from pmieducar.escola_serie_disciplina
    where escola_serie_disciplina.ref_ref_cod_serie = matricula.ref_ref_cod_serie AND
    escola_serie_disciplina.ref_ref_cod_escola = matricula.ref_ref_cod_escola AND
    escola_serie_disciplina.ativo = 1)
  END

ORDER BY nm_aluno, cod_aluno]]>
	</queryString>
	<field name="cod_matricula" class="java.lang.Integer"/>
	<field name="cod_aluno" class="java.lang.Integer"/>
	<field name="nm_aluno" class="java.lang.String"/>
	<field name="situacao" class="java.lang.String"/>
	<field name="frequencia_geral" class="java.lang.Double"/>
	<field name="media" class="java.lang.String"/>
	<field name="nm_componente_curricular" class="java.lang.String"/>
	<field name="ano" class="java.lang.Integer"/>
	<field name="nome_responsavel" class="java.lang.String"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="nome_instituicao" class="java.lang.String"/>
	<field name="tipo_logradouro" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone_ddd" class="java.math.BigDecimal"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="nome_curso" class="java.lang.String"/>
	<field name="nome_serie" class="java.lang.String"/>
	<field name="nome_turma" class="java.lang.String"/>
	<field name="periodo" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="136" splitType="Stretch">
			<staticText>
				<reportElement uuid="b70f7ff3-780a-44d5-8dba-300746f150c7" x="295" y="87" width="210" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Resultado Final]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="db2dabad-eb6c-4bae-a125-73e69ad62e41" x="303" y="51" width="141" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{municipio}+" - "+$F{uf_municipio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="d6efa5f6-8a5d-449a-9978-006c96a4a838" x="73" y="39" width="307" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Endereço: "+$F{logradouro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="e907c8c5-c956-4605-b5f8-3d72a484841b" x="73" y="51" width="228" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Bairro:" +$F{bairro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="ead5e909-d895-4d1c-89f9-57b3c5cd1216" x="303" y="63" width="233" height="13" forecolor="#000000"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA["E-mail: "+$F{email}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="9bb69245-a362-41d1-b3ab-29832087da34" x="73" y="16" width="307" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_responsavel}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="24f68031-0c53-448c-bbec-7c9e9b2ae5f0" x="73" y="4" width="307" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_instituicao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="cfe26baf-89da-44e0-b281-83a3b4292d7b" x="447" y="51" width="77" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CEP: "+$F{cep}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement uuid="046e5df6-d02c-45c4-8fb1-e36bd78cc597" x="9" y="4" width="57" height="46"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField>
				<reportElement uuid="cf7ef1a4-aea2-4b0b-a46e-5ee09b6c4acd" x="73" y="63" width="201" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Telefone: ("+$F{fone_ddd}+") "+$F{fone}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="cefcc31c-ca71-41b4-b076-0c31058aadf1" x="73" y="28" width="307" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="a2fef46a-95ee-471f-954d-4c59ee3f6453" x="37" y="122" width="36" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Curso:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="3d7e5690-83cf-4b94-b4d6-3d02c54443b7" x="272" y="122" width="36" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Turno:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="aabaa5dd-00d4-4b0b-a6c9-89f34a9d414e" x="414" y="122" width="36" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Turma:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7ee2cd94-a04f-4ff5-b054-cd07275a5ff9" x="562" y="122" width="36" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Série:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="9863bd3d-2642-45a7-96fe-2246aad1c4a2" x="73" y="122" width="190" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_curso}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="86af51bf-68d8-4122-abd6-9223d889777a" x="308" y="122" width="100" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{periodo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="142a6ec1-4e1c-47b3-974d-bd2b7c097dd8" x="450" y="122" width="100" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_turma}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="375f41e1-626b-44a6-a411-95e965ccc893" x="598" y="122" width="100" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="119ad849-0c6d-4983-b5c9-f43104a46274" x="447" y="39" width="82" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Nº: "+$F{numero}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="4e5bf517-6347-41ef-947e-a2800b0fc3d2" x="712" y="122" width="29" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Ano:]]></text>
			</staticText>
			<textField>
				<reportElement uuid="4a53dec4-f655-4caa-881a-4cb00ffb31e3" x="741" y="122" width="45" height="12"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<summary>
		<band height="184" splitType="Stretch">
			<elementGroup>
				<elementGroup>
					<crosstab>
						<reportElement uuid="4c50a099-4f7c-4636-951b-21df04d0e54a" x="20" y="0" width="766" height="184"/>
						<crosstabHeaderCell>
							<cellContents mode="Opaque">
								<box>
									<pen lineWidth="0.0"/>
									<topPen lineWidth="0.0"/>
									<leftPen lineWidth="0.0"/>
									<bottomPen lineWidth="0.0"/>
									<rightPen lineWidth="0.0"/>
								</box>
								<staticText>
									<reportElement uuid="4aa69f0a-3518-4fa1-81ed-bebb10e531d9" style="Crosstab Data Text" x="20" y="5" width="259" height="15"/>
									<textElement textAlignment="Left">
										<font fontName="DejaVu Sans" size="8" isBold="true"/>
									</textElement>
									<text><![CDATA[Aluno]]></text>
								</staticText>
								<staticText>
									<reportElement uuid="2ba58a37-c9da-48d4-a2ac-086dc9849def" style="Crosstab Data Text" x="279" y="5" width="32" height="15"/>
									<textElement textAlignment="Center">
										<font fontName="DejaVu Sans" size="8" isBold="true"/>
									</textElement>
									<text><![CDATA[Sit]]></text>
								</staticText>
								<staticText>
									<reportElement uuid="93d25ded-82b7-42bd-800b-5c782568bed0" style="Crosstab Data Text" x="311" y="5" width="32" height="15"/>
									<textElement textAlignment="Center">
										<font fontName="DejaVu Sans" size="8" isBold="true"/>
									</textElement>
									<text><![CDATA[ %Fr]]></text>
								</staticText>
							</cellContents>
						</crosstabHeaderCell>
						<rowGroup name="nm_aluno" width="279">
							<bucket class="java.lang.String">
								<bucketExpression><![CDATA[$F{nm_aluno}]]></bucketExpression>
							</bucket>
							<crosstabRowHeader>
								<cellContents mode="Opaque" style="linha-zebrado">
									<box>
										<pen lineWidth="0.0"/>
										<topPen lineWidth="0.0"/>
										<leftPen lineWidth="0.0"/>
										<bottomPen lineWidth="0.0"/>
										<rightPen lineWidth="0.0"/>
									</box>
									<textField>
										<reportElement uuid="26451b38-4f94-4f1a-879d-a39854e52a6d" mode="Transparent" x="20" y="0" width="259" height="15"/>
										<textElement textAlignment="Left" verticalAlignment="Middle">
											<font fontName="DejaVu Sans" size="8"/>
										</textElement>
										<textFieldExpression><![CDATA[$V{nm_aluno}]]></textFieldExpression>
									</textField>
								</cellContents>
							</crosstabRowHeader>
							<crosstabTotalRowHeader>
								<cellContents>
									<box>
										<pen lineWidth="0.0"/>
										<topPen lineWidth="0.0"/>
										<leftPen lineWidth="0.0"/>
										<bottomPen lineWidth="0.0"/>
										<rightPen lineWidth="0.0"/>
									</box>
								</cellContents>
							</crosstabTotalRowHeader>
						</rowGroup>
						<rowGroup name="situacao" width="32">
							<bucket class="java.lang.String">
								<bucketExpression><![CDATA[$F{situacao}]]></bucketExpression>
							</bucket>
							<crosstabRowHeader>
								<cellContents mode="Opaque" style="linha-zebrado">
									<textField>
										<reportElement uuid="815ac81e-a1c4-4ac0-ba55-bc9aabebb01b" mode="Transparent" x="0" y="0" width="32" height="15"/>
										<textElement textAlignment="Center">
											<font fontName="DejaVu Sans" size="8"/>
										</textElement>
										<textFieldExpression><![CDATA[$V{situacao}]]></textFieldExpression>
									</textField>
								</cellContents>
							</crosstabRowHeader>
							<crosstabTotalRowHeader>
								<cellContents/>
							</crosstabTotalRowHeader>
						</rowGroup>
						<rowGroup name="%fr" width="33">
							<bucket class="java.lang.String">
								<bucketExpression><![CDATA[$F{frequencia_geral}]]></bucketExpression>
							</bucket>
							<crosstabRowHeader>
								<cellContents mode="Opaque" style="linha-zebrado">
									<textField>
										<reportElement uuid="051cef1f-d97b-49b5-8f0b-b5755efda5bb" mode="Transparent" x="0" y="0" width="32" height="15"/>
										<textElement textAlignment="Center">
											<font fontName="DejaVu Sans" size="8"/>
										</textElement>
										<textFieldExpression><![CDATA[$V{%fr}]]></textFieldExpression>
									</textField>
								</cellContents>
							</crosstabRowHeader>
							<crosstabTotalRowHeader>
								<cellContents/>
							</crosstabTotalRowHeader>
						</rowGroup>
						<columnGroup name="nm_componente_curricular" height="21" totalPosition="End">
							<bucket class="java.lang.String">
								<bucketExpression><![CDATA[$F{nm_componente_curricular}]]></bucketExpression>
							</bucket>
							<crosstabColumnHeader>
								<cellContents mode="Opaque">
									<box>
										<pen lineWidth="0.0"/>
										<topPen lineWidth="0.0"/>
										<leftPen lineWidth="0.0"/>
										<bottomPen lineWidth="0.0"/>
										<rightPen lineWidth="0.0"/>
									</box>
									<textField>
										<reportElement uuid="0d33f862-3339-44cc-9676-9ea84b5ee545" style="Crosstab Data Text" x="1" y="5" width="32" height="15"/>
										<textElement textAlignment="Center">
											<font fontName="DejaVu Sans" size="8" isBold="true"/>
										</textElement>
										<textFieldExpression><![CDATA[$V{nm_componente_curricular}]]></textFieldExpression>
									</textField>
								</cellContents>
							</crosstabColumnHeader>
							<crosstabTotalColumnHeader>
								<cellContents backcolor="#BFE1FF" mode="Transparent">
									<box>
										<pen lineWidth="0.0"/>
										<topPen lineWidth="0.0"/>
										<leftPen lineWidth="0.0"/>
										<bottomPen lineWidth="0.0"/>
										<rightPen lineWidth="0.0"/>
									</box>
								</cellContents>
							</crosstabTotalColumnHeader>
						</columnGroup>
						<measure name="mediaMeasure" class="java.lang.String" calculation="First">
							<measureExpression><![CDATA[$F{media}]]></measureExpression>
						</measure>
						<crosstabCell width="34" height="15">
							<cellContents mode="Opaque" style="linha-zebrado">
								<box>
									<pen lineWidth="0.0"/>
									<topPen lineWidth="0.0"/>
									<leftPen lineWidth="0.0"/>
									<bottomPen lineWidth="0.0"/>
									<rightPen lineWidth="0.0"/>
								</box>
								<textField pattern="###0.00" isBlankWhenNull="true">
									<reportElement uuid="5460d827-cdaa-4ea5-ab26-46e942baa06e" mode="Transparent" x="1" y="0" width="32" height="15" forecolor="#010101"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="DejaVu Sans" size="8"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{mediaMeasure}]]></textFieldExpression>
								</textField>
							</cellContents>
						</crosstabCell>
						<crosstabCell width="0" height="15" columnTotalGroup="nm_componente_curricular">
							<cellContents backcolor="#BFE1FF" mode="Transparent">
								<box>
									<pen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<topPen lineWidth="0.0"/>
									<leftPen lineWidth="0.0"/>
									<bottomPen lineWidth="0.0"/>
									<rightPen lineWidth="0.0"/>
								</box>
							</cellContents>
						</crosstabCell>
						<crosstabCell rowTotalGroup="nm_aluno">
							<cellContents/>
						</crosstabCell>
						<crosstabCell rowTotalGroup="nm_aluno" columnTotalGroup="nm_componente_curricular">
							<cellContents/>
						</crosstabCell>
						<crosstabCell rowTotalGroup="situacao">
							<cellContents/>
						</crosstabCell>
						<crosstabCell rowTotalGroup="situacao" columnTotalGroup="nm_componente_curricular">
							<cellContents/>
						</crosstabCell>
						<crosstabCell rowTotalGroup="%fr">
							<cellContents/>
						</crosstabCell>
						<crosstabCell rowTotalGroup="%fr" columnTotalGroup="nm_componente_curricular">
							<cellContents/>
						</crosstabCell>
					</crosstab>
				</elementGroup>
			</elementGroup>
		</band>
	</summary>
</jasperReport>
