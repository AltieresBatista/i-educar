<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_historico_escolar" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.210000000000003"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<subDataset name="dataset1"/>
	<subDataset name="dataset2"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Xampp\\xampp\\htdocs\\PHPJasperXML\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="aluno" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.lang.String"/>
	<queryString>
		<![CDATA[select nm_disciplina,
	MAX(nota) AS NOTA,
	MAX(nota_1serie) AS NOTA_1SERIE,
	MAX(nota_2serie) AS NOTA_2SERIE,
	MAX(nota_3serie) AS NOTA_3SERIE,
	MAX(nota_4serie) AS NOTA_4SERIE,
	MAX(nota_5serie) AS NOTA_5SERIE,
	MAX(nota_6serie) AS NOTA_6SERIE,
	MAX(nota_7serie) AS NOTA_7SERIE,
	MAX(nota_8serie) AS NOTA_8SERIE,
	MAX(nota_9serie) AS NOTA_9SERIE,
        MAX(ano_1serie) AS ano_1serie,
        MAX(escola_1serie) AS escola_1serie,
        MAX(escola_cidade_1serie) AS escola_cidade_1serie,
        MAX(escola_uf_1serie) AS escola_uf_1serie,
	MAX(ano_2serie) AS ano_2serie,
        MAX(escola_2serie) AS escola_2serie,
        MAX(escola_cidade_2serie) AS escola_cidade_2serie,
        MAX(escola_uf_2serie) AS escola_uf_2serie,
        MAX(ano_3serie) AS ano_3serie,
        MAX(escola_3serie) AS escola_3serie,
        MAX(escola_cidade_3serie) AS escola_cidade_3serie,
        MAX(escola_uf_3serie) AS escola_uf_3serie,
        MAX(ano_4serie) AS ano_4serie,
        MAX(escola_4serie) AS escola_4serie,
        MAX(escola_cidade_4serie) AS escola_cidade_4serie,
        MAX(escola_uf_4serie) AS escola_uf_4serie,
	MAX(ano_5serie) AS ano_5serie,
        MAX(escola_5serie) AS escola_5serie,
        MAX(escola_cidade_5serie) AS escola_cidade_5serie,
        MAX(escola_uf_5serie) AS escola_uf_5serie,
        MAX(ano_6serie) AS ano_6serie,
        MAX(escola_6serie) AS escola_6serie,
        MAX(escola_cidade_6serie) AS escola_cidade_6serie,
        MAX(escola_uf_6serie) AS escola_uf_6serie,
	MAX(ano_7serie) AS ano_7serie,
        MAX(escola_7serie) AS escola_7serie,
        MAX(escola_cidade_7serie) AS escola_cidade_7serie,
        MAX(escola_uf_7serie) AS escola_uf_7serie,
        MAX(ano_8serie) AS ano_8serie,
        MAX(escola_8serie) AS escola_8serie,
        MAX(escola_cidade_8serie) AS escola_cidade_8serie,
        MAX(escola_uf_8serie) AS escola_uf_8serie,
	MAX(ano_9serie) AS ano_9serie,
        MAX(escola_9serie) AS escola_9serie,
        MAX(escola_cidade_9serie) AS escola_cidade_9serie,
        MAX(escola_uf_9serie) AS escola_uf_9serie,
        MAX(data_atual) AS data_atual,
        MAX(cod_aluno) AS cod_aluno,
        MAX(nm_instituicao) AS nm_instituicao,
		MAX(nm_responsavel) AS nm_responsavel,
        MAX(num_termo) AS nm_termo,
        MAX(num_livro) AS nm_livro,
        MAX(num_folha) AS num_folha,
        MAX(nome_serie_aux) AS nome_serie_aux,
        MAX(obs1) AS obs1,
        MAX(obs2) AS obs2,
        MAX(obs3) AS obs3,
        MAX(obs4) AS obs4,
        MAX(obs5) AS obs5,
        MAX(obs6) AS obs6,
        MAX(obs7) AS obs7,
        MAX(obs8) AS obs8,
        MAX(obs9) AS obs9,
		MAX(freq1) AS freq1,
		MAX(freq2) AS freq2,
		MAX(freq3) AS freq3,
		MAX(freq4) AS freq4,
		MAX(freq5) AS freq5,
		MAX(freq6) AS freq6,
		MAX(freq7) AS freq7,
		MAX(freq8) AS freq8,
		MAX(freq8) AS freq9,
        MAX(status_serie1) AS status_serie1,
        MAX(status_serie2) AS status_serie2,
        MAX(status_serie3) AS status_serie3,
        MAX(status_serie4) AS status_serie4,
        MAX(status_serie5) AS status_serie5,
        MAX(status_serie6) AS status_serie6,
        MAX(status_serie7) AS status_serie7,
        MAX(status_serie8) AS status_serie8,
        MAX(status_serie9) AS status_serie9,
        MAX(quebra) AS quebra,

      (SELECT COALESCE((SELECT COALESCE (fcn_upper(ps.nome),fcn_upper(juridica.fantasia))
          FROM cadastro.pessoa ps,
               cadastro.juridica,
			   pmieducar.escola
         WHERE escola.cod_escola = $P{escola} AND
		       escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
			   ps.idpes = escola.ref_idpes),(SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS nm_escola,


             (SELECT fcn_upper(substring(logradouro.idtlog from 1 for 1)) ||
              lower(substring(logradouro.idtlog, 2))
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
			   pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes) AS tipo_logradouro,


      (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.logradouro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS logradouro,


      (SELECT COALESCE((SELECT COALESCE ((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes), (SELECT endereco_externo.cidade FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS municipio,


(SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
			   pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS bairro,

(SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = $P{instituicao}))) AS uf_municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.numero FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS numero,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS cep,

    (SELECT COALESCE((SELECT min(fone_pessoa.ddd)
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT min(ddd_telefone) FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS fone_ddd,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola} ))) AS fone,


   (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica,
			  pmieducar.escola
        WHERE escola.cod_escola = $P{escola} AND
		      juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS email,

       to_char(CURRENT_DATE,'dd/mm/yyyy') AS data_atual,
       to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual,

(SELECT public.fcn_upper(pessoa.nome)
  FROM pmieducar.aluno,
       cadastro.fisica,
       cadastro.pessoa
 WHERE pessoa.idpes = fisica.idpes AND
       fisica.idpes = aluno.ref_idpes AND
       aluno.cod_aluno = $P{aluno}) as nome_aluno,


(SELECT municipio.nome || '/' || municipio.sigla_uf
  FROM  public.municipio,
        cadastro.fisica,
        pmieducar.aluno
  where fisica.idmun_nascimento = municipio.idmun AND
        fisica.idpes = aluno.ref_idpes AND
        aluno.cod_aluno = $P{aluno}) as cidade_nascimento_uf,


(SELECT to_char(fisica.data_nasc,'DD/MM/YYYY')
FROM   pmieducar.aluno,
       cadastro.fisica,
       cadastro.pessoa
 WHERE pessoa.idpes = fisica.idpes AND
       fisica.idpes = aluno.ref_idpes AND
       aluno.cod_aluno = $P{aluno}) as data_nasc,

(SELECT public.fcn_upper(COALESCE(aluno.nm_pai,'NAO INFORMADO')) || ' e ' || public.fcn_upper(COALESCE(aluno.nm_mae,'NAO INFORMADO'))
FROM   pmieducar.aluno
 WHERE aluno.cod_aluno = $P{aluno}) as nome_dos_pais

FROM (
SELECT nm_disciplina,
		nota,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 1) as nota_1serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 2) as nota_2serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 3) as nota_3serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 4) as nota_4serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 5) as nota_5serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 6) as nota_6serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 7) as nota_7serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 8) as nota_8serie,
       (select hd.nota
          from pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
               hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
               hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
               substring(nm_serie,1,1) = 9) as nota_9serie,

        (select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 1) as ano_1serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 1) as escola_1serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 1) as escola_cidade_1serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 1) as escola_uf_1serie,

        (select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 2) as ano_2serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 2) as escola_2serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 2) as escola_cidade_2serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 2) as escola_uf_2serie,

        (select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 3) as ano_3serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 3) as escola_3serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 3) as escola_cidade_3serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 3) as escola_uf_3serie,

		(select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 4) as ano_4serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 4) as escola_4serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 4) as escola_cidade_4serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 4) as escola_uf_4serie,

        (select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 5) as ano_5serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 5) as escola_5serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 5) as escola_cidade_5serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 5) as escola_uf_5serie,

		(select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 6) as ano_6serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 6) as escola_6serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 6) as escola_cidade_6serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 6) as escola_uf_6serie,

		(select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 7) as ano_7serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 7) as escola_7serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 7) as escola_cidade_7serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 7) as escola_uf_7serie,

        (select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 8) as ano_8serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 8) as escola_8serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 8) as escola_cidade_8serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 8) as escola_uf_8serie,

        (select ano
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 9) as ano_9serie,

        (select escola
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 9) as escola_9serie,

        (select escola_cidade
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 9) as escola_cidade_9serie,


        (select escola_uf
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 9) as escola_uf_9serie,

        to_char(CURRENT_DATE,'dd/mm/yyyy') as data_atual,

        historico_escolar.ref_cod_aluno as cod_aluno,

        (select public.fcn_upper(nm_instituicao)
           from pmieducar.instituicao
          where instituicao.cod_instituicao = historico_escolar.ref_cod_instituicao) as nm_instituicao,

	    (select public.fcn_upper(nm_responsavel)
           from pmieducar.instituicao
          where instituicao.cod_instituicao = historico_escolar.ref_cod_instituicao) as nm_responsavel,


        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 1) as obs1,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 2) as obs2,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 3) as obs3,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 4) as obs4,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 5) as obs5,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 6) as obs6,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 7) as obs7,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 8) as obs8,

        (select he.observacao
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 9) as obs9,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 1) as freq1,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 2) as freq2,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 3) as freq3,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 4) as freq4,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 5) as freq5,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 6) as freq6,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 7) as freq7,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 8) as freq8,

        (select he.frequencia
          from  pmieducar.historico_escolar he,
                pmieducar.historico_disciplinas hd
         where  hd.sequencial = historico_disciplinas.sequencial AND
                hd.ref_ref_cod_aluno = historico_disciplinas.ref_ref_cod_aluno AND
                hd.ref_sequencial = historico_disciplinas.ref_sequencial AND
                hd.ref_ref_cod_aluno = he.ref_cod_aluno AND
                hd.ref_sequencial = he.sequencial AND
                substring(nm_serie,1,1) = 9) as freq9,

       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 1) as status_serie1,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 2) as status_serie2,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 3) as status_serie3,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 4) as status_serie4,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 5) as status_serie5,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 6) as status_serie6,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 7) as status_serie7,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
				 he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 8) as status_serie8,


       (SELECT distinct CASE WHEN he.aprovado = 1 THEN 'Apro'
                    WHEN he.aprovado = 2 THEN 'Repr'
                    WHEN he.aprovado = 3  THEN 'Anda'
                    ELSE 'Tran'
                 END
            from pmieducar.historico_escolar he
           where he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                 he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
	       he.ativo = 1 AND
                 he.ano = historico_escolar.ano AND
                 substring(nm_serie,1,1) = 9) as status_serie9,


(SELECT 1 WHERE 1 = 1) AS quebra,

  (SELECT registro
     FROM pmieducar.historico_escolar
    WHERE ref_cod_aluno = $P{aluno} and
          historico_escolar.sequencial = (SELECT max(sequencial)
                                            FROM pmieducar.historico_escolar he
                                           WHERE he.ref_cod_aluno = $P{aluno})) AS num_termo,

  (SELECT livro
     FROM pmieducar.historico_escolar
    WHERE ref_cod_aluno = $P{aluno} and
          historico_escolar.sequencial = (SELECT max(sequencial)
                                            FROM pmieducar.historico_escolar he
                                           WHERE he.ref_cod_aluno = $P{aluno})) AS num_livro,

  (SELECT folha
     FROM pmieducar.historico_escolar
    WHERE ref_cod_aluno = $P{aluno} and
          historico_escolar.sequencial = (SELECT max(sequencial)
                                            FROM pmieducar.historico_escolar he
                                           WHERE he.ref_cod_aluno = $P{aluno})) AS num_folha,

( select CASE WHEN ((substring(nm_serie,1,1) = 8) or (substring(nm_serie,1,1) = 9)) THEN
                 'concluiu o ENSINO FUNDAMENTAL (8 ANOS)'
             ELSE
                 'concluiu a ' || substring(nm_serie,1,1) || ' série'
             END

          from pmieducar.historico_escolar he
         where he.ref_cod_aluno = historico_escolar.ref_cod_aluno AND
               he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
               he.ano = (select max(hi.ano)
                                          from pmieducar.historico_escolar hi
                                         where hi.ref_cod_aluno = he.ref_cod_aluno AND
                                               hi.ref_cod_instituicao = he.ref_cod_instituicao)) as nome_serie_aux


  FROM pmieducar.historico_escolar,
       pmieducar.historico_disciplinas,
       pmieducar.instituicao,
       pmieducar.escola
WHERE  instituicao.cod_instituicao = $P{instituicao} AND
       escola.ref_cod_instituicao = instituicao.cod_instituicao AND
       historico_escolar.ref_cod_instituicao = instituicao.cod_instituicao AND
       historico_disciplinas.ref_ref_cod_aluno = historico_escolar.ref_cod_aluno AND
       historico_disciplinas.ref_sequencial = historico_escolar.sequencial AND
       historico_escolar.ref_cod_aluno = $P{aluno} AND
       instituicao.ativo = 1 AND
       historico_escolar.ativo = 1 AND
       historico_escolar.ano = (SELECT max(he.ano)
                           FROM pmieducar.historico_escolar he
                          WHERE he.ref_cod_instituicao = historico_escolar.ref_cod_instituicao AND
                                he.sequencial = historico_escolar.sequencial AND
                                he.ref_cod_aluno = $P{aluno})

)  AS T
GROUP BY 1, nm_disciplina
ORDER BY 1 ASC]]>
	</queryString>
	<field name="nm_disciplina" class="java.lang.String"/>
	<field name="nota" class="java.lang.String"/>
	<field name="nota_1serie" class="java.lang.String"/>
	<field name="nota_2serie" class="java.lang.String"/>
	<field name="nota_3serie" class="java.lang.String"/>
	<field name="nota_4serie" class="java.lang.String"/>
	<field name="nota_5serie" class="java.lang.String"/>
	<field name="nota_6serie" class="java.lang.String"/>
	<field name="nota_7serie" class="java.lang.String"/>
	<field name="nota_8serie" class="java.lang.String"/>
	<field name="nota_9serie" class="java.lang.String"/>
	<field name="ano_1serie" class="java.lang.Integer"/>
	<field name="escola_1serie" class="java.lang.String"/>
	<field name="escola_cidade_1serie" class="java.lang.String"/>
	<field name="escola_uf_1serie" class="java.lang.String"/>
	<field name="ano_2serie" class="java.lang.Integer"/>
	<field name="escola_2serie" class="java.lang.String"/>
	<field name="escola_cidade_2serie" class="java.lang.String"/>
	<field name="escola_uf_2serie" class="java.lang.String"/>
	<field name="ano_3serie" class="java.lang.Integer"/>
	<field name="escola_3serie" class="java.lang.String"/>
	<field name="escola_cidade_3serie" class="java.lang.String"/>
	<field name="escola_uf_3serie" class="java.lang.String"/>
	<field name="ano_4serie" class="java.lang.Integer"/>
	<field name="escola_4serie" class="java.lang.String"/>
	<field name="escola_cidade_4serie" class="java.lang.String"/>
	<field name="escola_uf_4serie" class="java.lang.String"/>
	<field name="ano_5serie" class="java.lang.Integer"/>
	<field name="escola_5serie" class="java.lang.String"/>
	<field name="escola_cidade_5serie" class="java.lang.String"/>
	<field name="escola_uf_5serie" class="java.lang.String"/>
	<field name="ano_6serie" class="java.lang.Integer"/>
	<field name="escola_6serie" class="java.lang.String"/>
	<field name="escola_cidade_6serie" class="java.lang.String"/>
	<field name="escola_uf_6serie" class="java.lang.String"/>
	<field name="ano_7serie" class="java.lang.Integer"/>
	<field name="escola_7serie" class="java.lang.String"/>
	<field name="escola_cidade_7serie" class="java.lang.String"/>
	<field name="escola_uf_7serie" class="java.lang.String"/>
	<field name="ano_8serie" class="java.lang.Integer"/>
	<field name="escola_8serie" class="java.lang.String"/>
	<field name="escola_cidade_8serie" class="java.lang.String"/>
	<field name="escola_uf_8serie" class="java.lang.String"/>
	<field name="ano_9serie" class="java.lang.Integer"/>
	<field name="escola_9serie" class="java.lang.String"/>
	<field name="escola_cidade_9serie" class="java.lang.String"/>
	<field name="escola_uf_9serie" class="java.lang.String"/>
	<field name="data_atual" class="java.lang.String"/>
	<field name="cod_aluno" class="java.lang.Integer"/>
	<field name="nm_instituicao" class="java.lang.String"/>
	<field name="nm_responsavel" class="java.lang.String"/>
	<field name="nm_termo" class="java.lang.String"/>
	<field name="nm_livro" class="java.lang.String"/>
	<field name="num_folha" class="java.lang.String"/>
	<field name="nome_serie_aux" class="java.lang.String"/>
	<field name="obs1" class="java.lang.String"/>
	<field name="obs2" class="java.lang.String"/>
	<field name="obs3" class="java.lang.String"/>
	<field name="obs4" class="java.lang.String"/>
	<field name="obs5" class="java.lang.String"/>
	<field name="obs6" class="java.lang.String"/>
	<field name="obs7" class="java.lang.String"/>
	<field name="obs8" class="java.lang.String"/>
	<field name="obs9" class="java.lang.String"/>
	<field name="freq1" class="java.lang.Double"/>
	<field name="freq2" class="java.lang.Double"/>
	<field name="freq3" class="java.lang.Double"/>
	<field name="freq4" class="java.lang.Double"/>
	<field name="freq5" class="java.lang.Double"/>
	<field name="freq6" class="java.lang.Double"/>
	<field name="freq7" class="java.lang.Double"/>
	<field name="freq8" class="java.lang.Double"/>
	<field name="freq9" class="java.lang.Double"/>
	<field name="status_serie1" class="java.lang.String"/>
	<field name="status_serie2" class="java.lang.String"/>
	<field name="status_serie3" class="java.lang.String"/>
	<field name="status_serie4" class="java.lang.String"/>
	<field name="status_serie5" class="java.lang.String"/>
	<field name="status_serie6" class="java.lang.String"/>
	<field name="status_serie7" class="java.lang.String"/>
	<field name="status_serie8" class="java.lang.String"/>
	<field name="status_serie9" class="java.lang.String"/>
	<field name="quebra" class="java.lang.Integer"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="tipo_logradouro" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone_ddd" class="java.math.BigDecimal"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="hora_atual" class="java.lang.String"/>
	<field name="nome_aluno" class="java.lang.String"/>
	<field name="cidade_nascimento_uf" class="java.lang.String"/>
	<field name="data_nasc" class="java.lang.String"/>
	<field name="nome_dos_pais" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="215" splitType="Stretch">
			<rectangle>
				<reportElement x="5" y="193" width="545" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<staticText>
				<reportElement x="237" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[2ª Série]]></text>
			</staticText>
			<staticText>
				<reportElement x="281" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[3ª Série]]></text>
			</staticText>
			<staticText>
				<reportElement x="327" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[4ª Série]]></text>
			</staticText>
			<staticText>
				<reportElement x="371" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[5ª Série]]></text>
			</staticText>
			<staticText>
				<reportElement x="415" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[6ª Série]]></text>
			</staticText>
			<staticText>
				<reportElement x="461" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[7ª Série]]></text>
			</staticText>
			<staticText>
				<reportElement x="193" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[1ª Série]]></text>
			</staticText>
			<line>
				<reportElement x="190" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="234" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="277" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="323" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="367" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="411" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="456" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="507" y="198" width="41" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[8ª Série]]></text>
			</staticText>
			<rectangle>
				<reportElement x="5" y="4" width="545" height="167"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<line>
				<reportElement x="502" y="193" width="1" height="20"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="39" y="175" width="477" height="16"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[HISTÓRICO ESCOLAR DO ENSINO FUNDAMENTAL (8 ANOS)]]></text>
			</staticText>
			<line>
				<reportElement x="369" y="5" width="1" height="100"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="6" y="105" width="544" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="6" y="132" width="544" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="10" y="198" width="62" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DISCIPLINA]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="10" y="135" width="533" height="17"/>
				<textElement textAlignment="Justified">
					<font fontName="DejaVu Sans" size="8"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["Certificamos que "+$F{nome_aluno}+ ", matrícula "+$F{cod_aluno}+ ", natural de "+$F{cidade_nascimento_uf}+", nascido em "+$F{data_nasc}+", filho de "+$F{nome_dos_pais}+", "+$F{nome_serie_aux}+" conforme Histórico Escolar."]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="9" y="112" width="534" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CERTIFICADO DE CONCLUSÃO DE SÉRIE E/OU CURSO ENSINO FUNDAMENTAL]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="43" width="296" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Endereço: "+$F{logradouro}+" "+$F{numero}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="282" y="79" width="85" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Tel.: ("+$F{fone_ddd}+") "+$F{fone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="72" y="7" width="296" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_instituicao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="282" y="67" width="85" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CEP: "+$F{cep}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="67" width="178" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{municipio}+" - "+$F{uf_municipio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="31" width="296" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="79" width="205" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["E-mail: "+$F{email}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="19" width="296" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_responsavel}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="55" width="296" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Bairro: " +$F{bairro}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="10" y="7" width="57" height="46"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="15" splitType="Stretch">
			<rectangle>
				<reportElement mode="Opaque" x="7" y="1" width="541" height="13" forecolor="#FFFFFF" backcolor="#F0F0F0">
					<printWhenExpression><![CDATA[new Boolean(($V{COLUMN_COUNT} % 2) == 1)]]></printWhenExpression>
				</reportElement>
			</rectangle>
			<textField isBlankWhenNull="true">
				<reportElement x="194" y="1" width="36" height="13" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_1serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="239" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_2serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="282" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_3serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="327" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_4serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="371" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_5serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="415" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_6serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="461" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_7serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="508" y="1" width="36" height="13" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota_8serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="10" y="1" width="170" height="13" isRemoveLineWhenBlank="true"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_disciplina}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="374" splitType="Stretch">
			<rectangle>
				<reportElement x="5" y="3" width="545" height="39"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<staticText>
				<reportElement x="10" y="6" width="100" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[% FREQUÊNCIA]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="194" y="7" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="239" y="7" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="282" y="7" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="327" y="7" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq4}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="371" y="6" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq5}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="415" y="6" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq6}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="461" y="6" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq7}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="508" y="6" width="36" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{freq8}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="194" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="239" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="282" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="327" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie4}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="23" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="10" y="26" width="100" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[RESULTADO FINAL]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="371" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie5}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="415" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie6}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="461" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie7}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="508" y="26" width="35" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_serie8}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement x="5" y="49" width="545" height="324"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<line>
				<reportElement x="5" y="66" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="54" y="49" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="50" width="45" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[SÉRIE]]></text>
			</staticText>
			<staticText>
				<reportElement x="58" y="50" width="56" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[ANO LETIVO]]></text>
			</staticText>
			<line>
				<reportElement x="114" y="49" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="117" y="50" width="245" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[ESTABELECIMENTO DE ENSINO]]></text>
			</staticText>
			<line>
				<reportElement x="365" y="49" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="367" y="50" width="59" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[MUNICÍPIO]]></text>
			</staticText>
			<line>
				<reportElement x="523" y="49" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="527" y="50" width="20" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[UF]]></text>
			</staticText>
			<line>
				<reportElement x="5" y="82" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="68" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[1ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="68" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_1serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="68" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_1serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="68" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_1serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="68" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_1serie}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="98" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="84" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[2ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="84" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_2serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="84" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_2serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="84" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_2serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="84" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_2serie}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="9" y="100" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[3ª Série]]></text>
			</staticText>
			<line>
				<reportElement x="5" y="114" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="100" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_3serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="100" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_3serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="100" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_3serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="100" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_3serie}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="9" y="117" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[4ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="117" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_4serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="117" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_4serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="117" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_4serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="117" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_4serie}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="131" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="133" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[5ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="133" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_5serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="133" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_5serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="133" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_5serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="133" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_5serie}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="147" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="149" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[6ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="149" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_6serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="149" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_6serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="149" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_6serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="149" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_6serie}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="163" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="165" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[7ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="165" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_7serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="181" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_8serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="165" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_7serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="165" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_7serie}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="179" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="181" width="45" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[8ª Série]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="69" y="181" width="34" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano_8serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="117" y="165" width="245" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_7serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="367" y="181" width="149" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_cidade_8serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="181" width="20" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escola_uf_8serie}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="195" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="198" width="30" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Obs.:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="198" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="215" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="232" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="250" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs4}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="268" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs5}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="286" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs6}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="304" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs7}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="321" width="506" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obs8}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="336" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="9" y="339" width="76" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Município e Data:]]></text>
			</staticText>
			<line>
				<reportElement x="5" y="355" width="545" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="85" y="339" width="122" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{municipio}+", "+$F{data_atual}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="210" y="337" width="1" height="36"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="378" y="336" width="1" height="37"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="7" y="358" width="51" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Registro Nº:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="58" y="358" width="112" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_termo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="213" y="339" width="55" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Secretário(a):]]></text>
			</staticText>
			<staticText>
				<reportElement x="214" y="358" width="27" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Livro:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="241" y="358" width="84" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_livro}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="382" y="339" width="55" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Diretor(a):]]></text>
			</staticText>
			<staticText>
				<reportElement x="382" y="358" width="32" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[Folha:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="415" y="358" width="78" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{num_folha}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Immediate"/>
	</summary>
</jasperReport>
