<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_relacao_alunos_por_turma" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.2100000000000009"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ano" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="curso" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="serie" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="turma" class="java.lang.Integer"/>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="situacao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select public.fcn_upper(instituicao.nm_instituicao) as nm_instituicao,
       public.fcn_upper(instituicao.nm_responsavel) as nm_responsavel,
       aluno.cod_aluno,
       (SELECT cod_ciasc
          FROM serieciasc.aluno_cod_aluno
         WHERE aluno_cod_aluno.cod_aluno = aluno.cod_aluno) as serie_ciasc,

       (SELECT cod_aluno_inep
          FROM modules.educacenso_cod_aluno
         WHERE educacenso_cod_aluno.cod_aluno = aluno.cod_aluno) as inep,
               public.fcn_upper(pessoa.nome) as nome_aluno,

       (SELECT CASE WHEN fisica.sexo = 'M' THEN
                        'Mas'
                     ELSE
                        'Fem'
                     END) as sexo,
       to_char(fisica.data_nasc,'dd/mm/yyyy') as data_nasc,
       (SELECT documento.rg from cadastro.documento where documento.idpes = fisica.idpes) as identidade,
       curso.nm_curso as nome_curso,
       turma.nm_turma as nome_turma,
       serie.nm_serie as nome_serie,
       turma.cod_turma as cod_turma,

      (SELECT COALESCE((SELECT COALESCE (fcn_upper(ps.nome),fcn_upper(juridica.fantasia))
          FROM cadastro.pessoa ps,
               cadastro.juridica
         WHERE escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
			   ps.idpes = escola.ref_idpes),(SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS nm_escola,

      (SELECT fcn_upper(substring(logradouro.idtlog from 1 for 1)) ||
              lower(substring(logradouro.idtlog, 2))
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes) AS tipo_logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.logradouro FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS bairro,

      (SELECT COALESCE((SELECT COALESCE ((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes), (SELECT endereco_externo.cidade FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.numero FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS numero,


      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = instituicao.cod_instituicao))) AS uf_municipio,

     (SELECT COALESCE((SELECT min(fone_pessoa.ddd)
         FROM cadastro.fone_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT min(ddd_telefone) FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS fone_ddd,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo WHERE endereco_externo.idpes = escola.ref_idpes))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = escola.cod_escola))) AS cep,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = escola.cod_escola))) AS fone,

   (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica
        WHERE juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = escola.cod_escola))) AS email,

       to_char(current_date,'dd/mm/yyyy') AS data_atual,
       to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual,
    (SELECT CASE WHEN date_part('hour',hora_inicial) = 6 or date_part('hour',hora_inicial) = 7 or date_part('hour',hora_inicial) = 8 THEN 'Matutino'
                     WHEN date_part('hour',hora_inicial) = 13 or date_part('hour',hora_inicial) = 14 THEN 'Vespertino'
                     WHEN date_part('hour',hora_inicial) = 18 or date_part('hour',hora_inicial) = 19 THEN 'Noturno'
                END
	       FROM pmieducar.turma t,
                pmieducar.matricula_turma mt
          WHERE t.cod_turma = mt.ref_cod_turma AND
		        t.cod_turma = turma.cod_turma AND
                mt.ref_cod_matricula = matricula.cod_matricula AND
                t.ativo = 1 AND
		        mt.ativo = 1 AND
                hora_inicial IS NOT NULL) AS periodo,

(select infra_predio.nm_predio
   from pmieducar.infra_predio_comodo,
        pmieducar.infra_comodo_funcao,
        pmieducar.infra_predio
  where infra_comodo_funcao.cod_infra_comodo_funcao = infra_predio_comodo.ref_cod_infra_comodo_funcao  AND
        infra_comodo_funcao.ref_cod_escola = escola.cod_escola AND
        infra_predio.cod_infra_predio = infra_predio_comodo.ref_cod_infra_predio AND
        infra_predio.ref_cod_escola = escola.cod_escola AND
        infra_predio.ativo = 1 AND
        infra_predio_comodo.cod_infra_predio_comodo = turma.ref_cod_infra_predio_comodo) as predio,

(select nm_comodo
   from pmieducar.infra_predio_comodo,
        pmieducar.infra_comodo_funcao,
        pmieducar.infra_predio
  where infra_comodo_funcao.cod_infra_comodo_funcao = infra_predio_comodo.ref_cod_infra_comodo_funcao  AND
        infra_comodo_funcao.ref_cod_escola = escola.cod_escola AND
        infra_predio.cod_infra_predio = infra_predio_comodo.ref_cod_infra_predio AND
        infra_predio.ref_cod_escola = escola.cod_escola AND
        infra_predio.ativo = 1 AND
        infra_predio_comodo.cod_infra_predio_comodo = turma.ref_cod_infra_predio_comodo) as sala,

 (SELECT CASE WHEN matricula.aprovado = 1 THEN 'Aprovado'
                   WHEN matricula.aprovado = 2 THEN 'Reprovado'
                   WHEN matricula.aprovado = 3 THEN 'Em Andamento'
                   WHEN matricula.aprovado = 4 THEN 'Transferido'
                   WHEN matricula.aprovado = 6 THEN 'Abandono'
                   WHEN matricula.aprovado = 32 THEN 'Desistente'
          END) as situacao

  from pmieducar.instituicao,
       pmieducar.aluno,
       cadastro.fisica,
       cadastro.pessoa,
       pmieducar.curso,
       pmieducar.matricula,
       pmieducar.matricula_turma,
       pmieducar.turma,
       pmieducar.serie,
       pmieducar.escola,
       pmieducar.escola_ano_letivo,
       pmieducar.escola_curso,
       pmieducar.escola_serie

where  escola_ano_letivo.ano = $P{ano} AND
       --escola_ano_letivo.andamento = 1 AND
       instituicao.cod_instituicao = $P{instituicao} AND
       escola.cod_escola = $P{escola} AND

	   (SELECT CASE WHEN $P{curso} = 0 THEN
                  escola_curso.ref_cod_curso = curso.cod_curso
               ELSE
                   escola_curso.ref_cod_curso = curso.cod_curso  AND
				    curso.cod_curso = $P{curso}
               END)	AND

	   (SELECT CASE WHEN $P{serie} = 0 THEN
                  escola_serie.ref_cod_serie = serie.cod_serie
               ELSE
                   escola_serie.ref_cod_serie = serie.cod_serie AND
				   serie.cod_serie = $P{serie}
               END)	AND

		(SELECT CASE WHEN $P{turma} = 0 THEN
                  turma.cod_turma = matricula_turma.ref_cod_turma
               ELSE
                   turma.cod_turma = matricula_turma.ref_cod_turma AND
				   turma.cod_turma = $P{turma}
               END)	AND

       escola_curso.ref_cod_escola = escola.cod_escola AND
       escola_ano_letivo.ref_cod_escola = escola.cod_escola AND
       escola_serie.ref_cod_escola = escola.cod_escola AND
       escola.ref_cod_instituicao = instituicao.cod_instituicao AND
       pessoa.idpes = fisica.idpes AND
       aluno.ref_idpes = fisica.idpes AND
       aluno.cod_aluno = matricula.ref_cod_aluno AND
       matricula.cod_matricula = matricula_turma.ref_cod_matricula AND
       turma.ref_ref_cod_serie = escola_serie.ref_cod_serie AND
       turma.ref_ref_cod_escola = escola_serie.ref_cod_escola AND
       turma.ref_cod_curso = curso.cod_curso AND
       matricula.ativo = 1 AND
       matricula_turma.ativo = matricula.ativo AND
       matricula.ano = $P{ano} AND

      (SELECT CASE WHEN $P{situacao} = 10 THEN
        matricula.aprovado in ('1', '2', '3', '4','6')
      WHEN $P{situacao} = 9 THEN
        matricula.aprovado in ('1', '2', '3')
      WHEN $P{situacao} in ('1', '2', '3', '4', '6') THEN
          matricula.aprovado = $P{situacao}
      END) and

       matricula_turma.ref_cod_turma = $P{turma} and
       --pega a ultima enturmacao da matricula (na mesma turma)
       matricula_turma.data_cadastro = (select max(mt.data_cadastro) from matricula_turma mt where
       mt.ativo = 1 AND matricula_turma.ref_cod_matricula = mt.ref_cod_matricula and ref_cod_turma = $P{turma})

ORDER BY nome_turma, nome_aluno]]>
	</queryString>
	<field name="nm_instituicao" class="java.lang.String"/>
	<field name="nm_responsavel" class="java.lang.String"/>
	<field name="cod_aluno" class="java.lang.Integer"/>
	<field name="serie_ciasc" class="java.lang.Long"/>
	<field name="inep" class="java.lang.Long"/>
	<field name="nome_aluno" class="java.lang.String"/>
	<field name="sexo" class="java.lang.String"/>
	<field name="data_nasc" class="java.lang.String"/>
	<field name="identidade" class="java.math.BigDecimal"/>
	<field name="nome_curso" class="java.lang.String"/>
	<field name="nome_turma" class="java.lang.String"/>
	<field name="nome_serie" class="java.lang.String"/>
	<field name="cod_turma" class="java.lang.Integer"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="tipo_logradouro" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="fone_ddd" class="java.math.BigDecimal"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="data_atual" class="java.lang.String"/>
	<field name="hora_atual" class="java.lang.String"/>
	<field name="periodo" class="java.lang.String"/>
	<field name="predio" class="java.lang.String"/>
	<field name="sala" class="java.lang.String"/>
	<field name="situacao" class="java.lang.String"/>
	<variable name="tot_alunos" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{cod_aluno}]]></variableExpression>
	</variable>
	<group name="cod_turma" isResetPageNumber="true">
		<groupExpression><![CDATA[$F{cod_turma}]]></groupExpression>
		<groupHeader>
			<band height="19">
				<textField>
					<reportElement x="4" y="4" width="144" height="13"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Turma: "+$F{nome_turma}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="165" y="4" width="122" height="13"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Turno: "+$F{periodo}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="21">
				<textField>
					<reportElement x="138" y="7" width="23" height="11">
						<printWhenExpression><![CDATA[new Boolean(($P{turma}.intValue()) == 0)]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Right">
						<font fontName="DejaVu Sans" size="8" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{cod_turma_COUNT}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="16" y="7" width="123" height="11">
						<printWhenExpression><![CDATA[new Boolean(($P{turma}.intValue()) == 0)]]></printWhenExpression>
					</reportElement>
					<textElement>
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Total de alunos da turma:]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="113" splitType="Stretch">
			<textField>
				<reportElement x="79" y="3" width="300" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_instituicao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement x="79" y="39" width="300" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Endereço: "+$F{logradouro}+", "+$F{numero}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="79" y="27" width="300" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="79" y="15" width="300" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_responsavel}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="338" y="51" width="133" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{municipio}+" - "+$F{uf_municipio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="473" y="51" width="75" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CEP: "+$F{cep}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement x="79" y="63" width="257" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Telefone: ("+$F{fone_ddd}+") "+$F{fone}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="338" y="63" width="210" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["E-mail: "+$F{email}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="79" y="51" width="257" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Bairro: " +$F{bairro}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="11" y="6" width="57" height="46"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="36" splitType="Stretch">
			<staticText>
				<reportElement isPrintRepeatedValues="false" x="4" y="-27" width="547" height="16"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="12" isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Relação de Alunos]]></text>
			</staticText>
			<textField>
				<reportElement isPrintRepeatedValues="false" x="5" y="4" width="210" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Curso: "+$F{nome_curso}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="330" y="20" width="27" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[Sexo]]></text>
			</staticText>
			<staticText>
				<reportElement x="359" y="20" width="62" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[Dt. nascimento]]></text>
			</staticText>
			<staticText>
				<reportElement x="424" y="20" width="32" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[RG]]></text>
			</staticText>
			<staticText>
				<reportElement x="163" y="20" width="100" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[Aluno(a)]]></text>
			</staticText>
			<staticText>
				<reportElement x="4" y="20" width="33" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[Código]]></text>
			</staticText>
			<staticText>
				<reportElement x="488" y="20" width="49" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[Situação]]></text>
			</staticText>
			<staticText>
				<reportElement x="39" y="20" width="48" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[Série/Ciasc]]></text>
			</staticText>
			<staticText>
				<reportElement x="101" y="20" width="36" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<text><![CDATA[ID INEP]]></text>
			</staticText>
			<textField>
				<reportElement isPrintRepeatedValues="false" x="220" y="4" width="100" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Série: "+$F{nome_serie}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="362" y="4" width="92" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{predio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="488" y="4" width="58" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{sala}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="326" y="4" width="37" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Prédio:]]></text>
			</staticText>
			<staticText>
				<reportElement x="462" y="4" width="26" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Sala:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="15" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="163" y="2" width="164" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_aluno}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="330" y="2" width="27" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{sexo}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="359" y="2" width="62" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{data_nasc}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="424" y="2" width="60" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{identidade}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="488" y="2" width="64" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{situacao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="2" width="33" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cod_aluno}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="39" y="2" width="59" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{serie_ciasc}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="101" y="2" width="59" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{inep}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="5" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="3" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="23" splitType="Stretch">
			<staticText>
				<reportElement x="16" y="8" width="82" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total de alunos:]]></text>
			</staticText>
			<textField>
				<reportElement x="98" y="8" width="26" height="13"/>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="5" width="547" height="1"/>
			</line>
		</band>
	</summary>
</jasperReport>
