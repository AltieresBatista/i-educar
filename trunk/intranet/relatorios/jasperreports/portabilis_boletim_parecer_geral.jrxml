<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_boletim_parecer_geral" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="c2151512-19f8-4f0b-984b-fa7c6449a052">
	<property name="ireport.zoom" value="1.464100000000004"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="20"/>
	<parameter name="ano" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="curso" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="serie" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="turma" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="etapa" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="matricula" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT (SELECT escola_ano_letivo.ano
          FROM pmieducar.escola_ano_letivo
         WHERE escola_ano_letivo.ref_cod_escola = $P{escola} and
		       ano = $P{ano}) AS ano,

      (SELECT public.fcn_upper(instituicao.nm_responsavel)
         FROM pmieducar.instituicao
        WHERE instituicao.cod_instituicao = $P{instituicao}) AS nome_responsavel,

      (SELECT COALESCE((SELECT public.fcn_upper(ps.nome)
          FROM cadastro.pessoa ps,
               cadastro.juridica,
               pmieducar.escola
         WHERE escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
               escola.cod_escola = $P{escola}),(SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS nm_escola,


      (SELECT public.fcn_upper(instituicao.nm_instituicao)
         FROM pmieducar.instituicao
        WHERE instituicao.cod_instituicao = $P{instituicao}) AS nome_instituicao,

      (SELECT public.fcn_upper(substring(logradouro.idtlog from 1 for 1)) ||
              lower(substring(logradouro.idtlog, 2))
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}) AS tipo_logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.logradouro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.cidade FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS bairro,

      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = $P{instituicao}))) AS uf_municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.numero FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS numero,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS cep,

     (SELECT COALESCE((SELECT min(fone_pessoa.ddd)
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT min(ddd_telefone) FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS fone_ddd,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS fone,

     (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS email,

       to_char(current_date,'dd/mm/yyyy') AS data_atual,
       to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual,

        nome_disciplina,
        MAX(matricula) as matricula,
        MAX(id_disciplina) as id_disciplina,
        MAX(nome_curso) AS nome_curso,
	MAX(nome_serie) AS nome_serie,
        MAX(nome_turma) AS nome_turma,
        MAX(periodo) AS periodo,
		MAX(situacao) AS situacao,
		MAX(nome_aluno) AS nome_aluno,
		MAX(total_faltas_et1) AS total_faltas_et1,
		MAX(total_faltas) AS total_faltas,
		MAX(faltas_componente_et1) AS faltas_componente_et1,
		MAX(total_faltas_componente) AS total_faltas_componente,
                    MAX(total_geral_faltas_componente) AS total_geral_faltas_componente,
		MAX(frequencia) AS frequencia,
		MAX(carga_horaria) AS carga_horaria,
		MAX(curso_hora_falta) AS curso_hora_falta,
                    MAX(carga_horaria_componente) AS carga_horaria_componente,
                    MAX(carga_horaria_serie) AS carga_horaria_serie,
    MAX(parecer) AS parecer,
    MAX(nota) AS nota
  FROM (SELECT
    componente_curricular.nome as nome_disciplina,
    matricula.cod_matricula AS matricula,
    componente_curricular.id as id_disciplina,

	         (SELECT curso.nm_curso
                FROM pmieducar.curso
	          WHERE curso.cod_curso = matricula.ref_cod_curso AND
                        curso.ativo = 1) AS nome_curso,

            (SELECT serie.nm_serie
               FROM pmieducar.serie
	         WHERE serie.cod_serie = matricula.ref_ref_cod_serie AND
                       serie.ativo = 1) AS nome_serie,

	    (SELECT turma.nm_turma
	       FROM pmieducar.turma,
                    pmieducar.matricula_turma
              WHERE turma.cod_turma = $P{turma} AND
                    matricula_turma.ref_cod_turma = turma.cod_turma AND
                    matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
                    turma.ativo = 1 AND
		matricula_turma.ativo = 1) AS nome_turma,

       (select turma_turno.nm_turno from pmieducar.turma_turno, pmieducar.turma where turma_turno.turma_turno_id = turma.turma_turno_id and turma.cod_turma = matricula_turma.ref_cod_turma and  instituicao_id = $P{instituicao} limit 1) as periodo,

		(SELECT CASE WHEN (SELECT mt.aprovado
		                     FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 1 THEN 'Aprovado'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 2 THEN 'Reprovado'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 3 THEN 'Em Andamento'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 4 THEN 'Transferido'
                ELSE 'Reclassificado'
                END) AS situacao,

		(SELECT public.fcn_upper(pessoa.nome)
           FROM cadastro.pessoa,
                cadastro.fisica,
                pmieducar.aluno
          WHERE pessoa.idpes = fisica.idpes AND
                fisica.idpes = aluno.ref_idpes AND
                aluno.cod_aluno = matricula.ref_cod_aluno) AS nome_aluno,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = $P{etapa} AND
				falta_aluno.tipo_falta = 1) as total_faltas_et1,


        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa in ('1','2','3','4')) as total_faltas,


       (SELECT sum(falta_componente_curricular.quantidade)
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 2 AND
				falta_componente_curricular.componente_curricular_id = componente_curricular.id AND
				falta_aluno.tipo_falta = $P{etapa}) as faltas_componente_et1,


       (SELECT sum(falta_componente_curricular.quantidade)
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
				falta_componente_curricular.componente_curricular_id = componente_curricular.id AND
                falta_componente_curricular.etapa in ('1','2','3','4') AND
				falta_aluno.tipo_falta = 2) as total_faltas_componente,


       (SELECT sum(falta_componente_curricular.quantidade)
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa in ('1','2','3','4') AND
				falta_aluno.tipo_falta = 2) as total_geral_faltas_componente,

  (SELECT to_number((((select serie.dias_letivos
                       from pmieducar.serie
                      where serie.cod_serie = matricula.ref_ref_cod_serie)::float -
                   (SELECT sum(falta_geral.quantidade)
                       FROM modules.falta_geral,
                            modules.falta_aluno
                      WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                            falta_aluno.matricula_id = matricula.cod_matricula AND
                            falta_geral.etapa in('1','2','3','4')))::float * 100::float )::float / (select serie.dias_letivos from pmieducar.serie where serie.cod_serie = matricula.ref_ref_cod_serie) :: float,'999')) AS frequencia,

    (SELECT sum(to_number(componente_curricular_ano_escolar.carga_horaria,'999'))
       FROM modules.componente_curricular_ano_escolar
     WHERE componente_curricular_ano_escolar.componente_curricular_id = componente_curricular.id) AS            carga_horaria,


(select curso.hora_falta * 100 from pmieducar.curso where curso.cod_curso = matricula.ref_cod_curso) as curso_hora_falta,

  (select carga_horaria :: int from modules.componente_curricular_ano_escolar where   componente_curricular_ano_escolar.componente_curricular_id = componente_curricular.id AND componente_curricular_ano_escolar.ano_escolar_id = matricula.ref_ref_cod_serie) as carga_horaria_componente,


  (select serie.carga_horaria from pmieducar.serie where  serie.cod_serie = matricula.ref_ref_cod_serie) as carga_horaria_serie,

     (SELECT parecer_geral.parecer
        FROM modules.parecer_geral,
             modules.parecer_aluno
       WHERE parecer_geral.parecer_aluno_id = parecer_aluno.id AND
             parecer_aluno.matricula_id = matricula.cod_matricula AND
             parecer_geral.etapa = $P{etapa}) AS parecer,

      (SELECT nota_arredondada
                FROM modules.nota_componente_curricular,
                     modules.nota_aluno
               WHERE nota_componente_curricular.componente_curricular_id = componente_curricular.id AND
                     nota_componente_curricular.etapa = $P{etapa} AND
                     nota_aluno.id  = nota_componente_curricular.nota_aluno_id AND
                    nota_aluno.matricula_id = matricula.cod_matricula) as nota

 FROM pmieducar.matricula,
 pmieducar.matricula_turma,
 modules.componente_curricular

       WHERE
matricula.ref_ref_cod_escola = $P{escola} AND
  matricula.ref_cod_curso = $P{curso} AND
  matricula.ref_ref_cod_serie = $P{serie} AND
  matricula.ativo = 1 AND
  matricula_turma.ref_cod_turma = $P{turma} AND
  matricula_turma.ativo = 1 and
  matricula.ano = $P{ano} AND
  matricula_turma.ref_cod_matricula = matricula.cod_matricula and

  (SELECT CASE WHEN $P{matricula} = 0 THEN
    matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
    matricula_turma.ref_cod_turma = $P{turma}
  ELSE
    matricula.cod_matricula = $P{matricula}
  END) and


  CASE WHEN (select 1 from modules.componente_curricular_turma
    WHERE componente_curricular_turma.turma_id = matricula_turma.ref_cod_turma AND
    componente_curricular_turma.escola_id = matricula.ref_ref_cod_escola limit 1) = 1 THEN

    componente_curricular.id in (select componente_curricular_id from modules.componente_curricular_turma
    where componente_curricular_turma.escola_id = matricula.ref_ref_cod_escola AND
    componente_curricular_turma.turma_id = matricula_turma.ref_cod_turma)
  ELSE
    componente_curricular.id in (select ref_cod_disciplina from pmieducar.escola_serie_disciplina
    where escola_serie_disciplina.ref_ref_cod_serie = matricula.ref_ref_cod_serie AND
    escola_serie_disciplina.ref_ref_cod_escola = matricula.ref_ref_cod_escola AND
    escola_serie_disciplina.ativo = 1)
  END

	) AS etapa1

GROUP BY id_disciplina, nome_disciplina, nome_aluno
ORDER BY nome_aluno, nome_disciplina]]>
	</queryString>
	<field name="ano" class="java.lang.Integer"/>
	<field name="nome_responsavel" class="java.lang.String"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="nome_instituicao" class="java.lang.String"/>
	<field name="tipo_logradouro" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone_ddd" class="java.math.BigDecimal"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="data_atual" class="java.lang.String"/>
	<field name="hora_atual" class="java.lang.String"/>
	<field name="nome_disciplina" class="java.lang.String"/>
	<field name="matricula" class="java.lang.Integer"/>
	<field name="id_disciplina" class="java.lang.Integer"/>
	<field name="nome_curso" class="java.lang.String"/>
	<field name="nome_serie" class="java.lang.String"/>
	<field name="nome_turma" class="java.lang.String"/>
	<field name="periodo" class="java.lang.String"/>
	<field name="situacao" class="java.lang.String"/>
	<field name="nome_aluno" class="java.lang.String"/>
	<field name="total_faltas_et1" class="java.lang.Long"/>
	<field name="total_faltas" class="java.lang.Long"/>
	<field name="faltas_componente_et1" class="java.lang.Long"/>
	<field name="total_faltas_componente" class="java.lang.Long"/>
	<field name="total_geral_faltas_componente" class="java.lang.Long"/>
	<field name="frequencia" class="java.math.BigDecimal"/>
	<field name="carga_horaria" class="java.math.BigDecimal"/>
	<field name="curso_hora_falta" class="java.lang.Double"/>
	<field name="carga_horaria_componente" class="java.lang.Integer"/>
	<field name="carga_horaria_serie" class="java.lang.Double"/>
	<field name="parecer" class="java.lang.String"/>
	<field name="nota" class="java.lang.String"/>
	<group name="matricula" isStartNewPage="true">
		<groupExpression><![CDATA[$F{matricula}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band height="151">
				<rectangle>
					<reportElement uuid="87e399a3-b84f-461e-9822-a47ada667a09" x="13" y="0" width="531" height="149"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</rectangle>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="f2429c4f-b4de-4e5e-8936-8c11b514aaa3" x="54" y="4" width="479" height="13"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{parecer}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement uuid="6c62f321-1a14-4909-9c7c-5a37646e9044" x="15" y="4" width="39" height="13"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8"/>
					</textElement>
					<text><![CDATA[Parecer:]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="153" splitType="Stretch">
			<rectangle>
				<reportElement uuid="39d3094a-37d7-4299-beb7-3f0cdc60e9c9" x="12" y="3" width="531" height="59"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<textField isBlankWhenNull="true">
				<reportElement uuid="1ca0acfa-9439-4096-8c9c-135bf3632868" x="426" y="32" width="66" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="181d999b-f2e7-45e2-83ec-ac1cdc664dcc" x="357" y="47" width="44" height="15"/>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[E-mail:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="a82fa0a5-9d07-4123-b841-45fc4e67e597" x="89" y="32" width="253" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="8132b6a3-6a45-4dfa-bded-2aa15c5dd62a" x="403" y="47" width="88" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{email}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="30b812ef-e490-4140-a81f-817ecb2bac8b" x="252" y="47" width="43" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Telefone:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="1f79b4fa-22de-46a1-87ad-e33d520c0290" x="89" y="47" width="160" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Endereço: "+$F{logradouro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="7f74c044-da81-43f4-a668-4bee44f7e031" x="297" y="47" width="59" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="9db6443f-f291-463c-8e0d-185de7494729" x="89" y="6" width="253" height="14"/>
				<textElement markup="none">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_instituicao}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="f57b5e7c-ae29-4e36-9b8c-be804045555e" x="355" y="9" width="136" height="20"/>
				<textElement>
					<font fontName="DejaVu Sans" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[BOLETIM ESCOLAR]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="809be25f-809b-42a5-802e-dbafa5cde5d1" x="368" y="32" width="58" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Ano Letivo:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e795c565-df42-422b-b6ba-4853208a8bd8" x="16" y="64" width="68" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[01 - CURSO]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="2e149f18-d54b-4aef-986a-f48c86eeaabb" x="16" y="77" width="211" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_curso}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="81e89792-89f0-4232-83b4-37167b1830c4" x="233" y="64" width="64" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[02 - TURNO]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="313fb94e-fd9d-452d-b45f-3d945ff27887" x="233" y="77" width="100" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{periodo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="496ced34-1f60-4b9f-b84f-a15891520df1" x="345" y="64" width="58" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[03 - SÉRIE]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="8d82c669-13b6-4a05-9ad4-9e4774106397" x="345" y="77" width="79" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_serie}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="716061ec-1978-412c-b02d-5e84a4956a18" x="432" y="64" width="59" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[04 - TURMA]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="27bcee65-e1f0-4115-9dae-de15a599f5fd" x="432" y="77" width="101" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_turma}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="befe2262-d858-4634-8d99-1ec65705bf59" x="16" y="94" width="100" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[05 - ALUNO]]></text>
			</staticText>
			<textField>
				<reportElement uuid="5fa8be45-285b-477a-bb5b-873b04dff642" x="16" y="107" width="242" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_aluno}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="0737a915-de5c-4885-a806-d2dd93575244" x="345" y="94" width="75" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[06 - SITUAÇÃO]]></text>
			</staticText>
			<textField>
				<reportElement uuid="4c3b0de7-85db-4b4c-8438-f3f7a70d5655" x="345" y="107" width="99" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{situacao}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="fdbdab4b-6ecd-4326-bcc7-5c15baeadd61" x="17" y="131" width="142" height="14"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DISCIPLINA]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="3c2b97a7-e7c4-4f90-8973-82e7826e1e63" x="168" y="131" width="129" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Nota (AP - Aprovado)]]></text>
			</staticText>
			<line>
				<reportElement uuid="4e368d78-828c-4055-8526-3cdb2fe7a82e" x="543" y="62" width="1" height="91"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="5d6704b7-ec5f-4580-ab4d-cdc71cd63c27" x="12" y="62" width="1" height="91"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="cbb5f4a3-a355-4953-83ea-276ea2dc621b" x="229" y="62" width="1" height="31"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="b5121146-ea7d-4707-b281-7df7b1769529" x="429" y="62" width="1" height="31"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="16f7b021-67af-4665-8834-7a9f641b5e75" x="13" y="93" width="530" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="ccc569dd-5138-418b-b82a-34fbd809a706" x="13" y="125" width="530" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="9a01ff01-2f9d-4d21-b179-29b256b6ffff" x="468" y="126" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="514517d8-8d93-4a95-8787-a7f269ffe170" x="341" y="62" width="1" height="91"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="f8c8266f-c642-4172-b2b0-9a9a4a66f7d1" x="160" y="125" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="ff884b9b-196b-4e84-928c-967ef3705d1d" x="13" y="152" width="530" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement uuid="412cc697-79f3-4635-ba1e-75b8216bde07" x="506" y="127" width="34" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Freq. %]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="13faca43-7a08-432b-be25-9b7ba440f4dc" x="468" y="127" width="35" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Faltas]]></text>
			</staticText>
			<line>
				<reportElement uuid="79252e72-94af-4613-833e-f9746ca4cb92" x="505" y="125" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement uuid="fdceb917-82d0-457a-b27c-4a9c40e94808" x="89" y="18" width="253" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_responsavel}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="063db937-3c7d-439a-94ac-8b8738cb5dd6" x="473" y="140" width="26" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement uuid="4612b52b-2bb9-46e7-8985-779754716285" x="22" y="6" width="57" height="46"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField>
				<reportElement uuid="0202738b-40f2-415e-8f5b-fc510541de8b" x="345" y="131" width="109" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Etapa: "+$P{etapa}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="a186a095-592f-4305-9371-f71862d9c46a" x="511" y="140" width="26" height="11"/>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{frequencia}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="1017fdae-39da-41ac-a63d-2b175117bcd0" x="473" y="140" width="26" height="11" printWhenGroupChanges="matricula"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_geral_faltas_componente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="1744a6f4-b690-402c-abdc-60c166c44957" x="511" y="140" width="26" height="11">
					<printWhenExpression><![CDATA[100 - (($F{total_geral_faltas_componente} * $F{curso_hora_falta})/$F{carga_horaria_serie}) != 100.0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[100 - (($F{total_geral_faltas_componente} * $F{curso_hora_falta})/$F{carga_horaria_serie})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="1744a6f4-b690-402c-abdc-60c166c44957" x="511" y="140" width="26" height="11">
					<printWhenExpression><![CDATA[100 - (($F{total_geral_faltas_componente} * $F{curso_hora_falta})/$F{carga_horaria_serie}) == 100.0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[100]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="17" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement uuid="94ce58cd-e118-4ac7-9d71-2d044acf5a24" x="16" y="1" width="142" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_disciplina}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="d455798e-74d6-41e7-b7a1-bc6ace6ec98d" x="160" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="2020a710-ebb5-429f-afa1-bf58330c9b5b" x="13" y="16" width="530" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="cd2a5664-f969-4262-870f-a2f676594c47" x="12" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="a9724057-651a-4bae-a229-72788f1f2c66" x="543" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="433e004b-5634-4fac-916d-0e857e1c2b3b" x="468" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement uuid="6c1efeb2-0407-4705-af5e-6dc0919ea346" x="505" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement uuid="3ae06944-cec2-4367-904b-59ffd81fc88f" x="473" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas_componente}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="8b6ae879-a546-4a8a-99c5-6227238af209" x="201" y="1" width="18" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="7a070405-d463-4e82-bf5a-c6c99f075120" x="511" y="1" width="26" height="15">
					<printWhenExpression><![CDATA[100 - (($F{total_faltas_componente} * $F{curso_hora_falta})/$F{carga_horaria_componente}) == 100.0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[100]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0 ‰" isBlankWhenNull="true">
				<reportElement uuid="aa8070c8-9947-428a-bf94-dc59f5ca9d54" x="511" y="1" width="26" height="15">
					<printWhenExpression><![CDATA[100 - (($F{total_faltas_componente} * $F{curso_hora_falta})/$F{carga_horaria_componente}) != 100.0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[100 - (($F{total_faltas_componente} * $F{curso_hora_falta})/$F{carga_horaria_componente})]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="7" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="16" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="19" splitType="Stretch"/>
	</summary>
</jasperReport>
