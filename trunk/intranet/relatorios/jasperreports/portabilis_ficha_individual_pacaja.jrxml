<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_ficha_individual_pacaja" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.3310000000000008"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ano" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="curso" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="serie" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="turma" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="matricula" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT (SELECT escola_ano_letivo.ano
          FROM pmieducar.escola_ano_letivo
         WHERE escola_ano_letivo.ref_cod_escola = $P{escola} and
		       ano = $P{ano}) AS ano,

      (SELECT COALESCE((SELECT public.fcn_upper(ps.nome)
          FROM cadastro.pessoa ps,
               cadastro.juridica,
               pmieducar.escola
         WHERE escola.ref_idpes = juridica.idpes AND
               juridica.idpes = ps.idpes AND
               escola.cod_escola = $P{escola}),(SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS nm_escola,


      (SELECT public.fcn_upper(instituicao.nm_instituicao)
         FROM pmieducar.instituicao
        WHERE instituicao.cod_instituicao = $P{instituicao}) AS nome_instituicao,

      (SELECT public.fcn_upper(substring(logradouro.idtlog from 1 for 1)) ||
              lower(substring(logradouro.idtlog, 2))
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}) AS tipo_logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT logradouro.nome
         FROM public.logradouro,
              cadastro.juridica,
              cadastro.pessoa ps,
              cadastro.endereco_pessoa,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              ps.idpes = endereco_pessoa.idpes AND
              endereco_pessoa.idlog = logradouro.idlog AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.logradouro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT logradouro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS logradouro,

      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.cidade FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT municipio FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT bairro.nome
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.bairro FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT bairro FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS bairro,

      (SELECT COALESCE((SELECT COALESCE((SELECT municipio.sigla_uf
         FROM public.municipio,
              cadastro.endereco_pessoa,
              cadastro.juridica,
              public.bairro,
              pmieducar.escola
        WHERE endereco_pessoa.idbai = bairro.idbai AND
              bairro.idmun = municipio.idmun AND
              juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.sigla_uf FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(select inst.ref_sigla_uf from pmieducar.instituicao inst where inst.cod_instituicao = $P{instituicao}))) AS uf_municipio,

      (SELECT COALESCE((SELECT COALESCE((SELECT endereco_pessoa.numero
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT endereco_externo.numero FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT numero FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS numero,

     (SELECT COALESCE((SELECT COALESCE((SELECT to_char(endereco_pessoa.cep, '99999-999')
         FROM cadastro.endereco_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = endereco_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT to_char(endereco_externo.cep,'99999-999') FROM cadastro.endereco_externo, pmieducar.escola WHERE endereco_externo.idpes = escola.ref_idpes AND escola.cod_escola = $P{escola}))),(SELECT to_char(escola_complemento.cep,'99999-999') FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS cep,

     (SELECT COALESCE((SELECT min(fone_pessoa.ddd)
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT min(ddd_telefone) FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS fone_ddd,


     (SELECT COALESCE((SELECT min(to_char(fone_pessoa.fone, '9999-9999'))
         FROM cadastro.fone_pessoa,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = fone_pessoa.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT min(to_char(telefone, '9999-9999')) FROM pmieducar.escola_complemento where escola_complemento.ref_cod_escola = $P{escola}))) AS fone,

     (SELECT COALESCE((SELECT ps.email
         FROM cadastro.pessoa ps,
              cadastro.juridica,
              pmieducar.escola
        WHERE juridica.idpes = ps.idpes AND
              juridica.idpes = escola.ref_idpes AND
              escola.cod_escola = $P{escola}),(SELECT email FROM pmieducar.escola_complemento where ref_cod_escola = $P{escola}))) AS email,

       to_char(current_date,'dd/mm/yyyy') AS data_atual,
       to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual,

        nome_disciplina,
        MAX(matricula) as matricula,
        MAX(id_disciplina) as id_disciplina,
        MAX(nota_arredondada_etapa1) AS nota1,
        MAX(nota_arredondada_etapa2) AS nota2,
        MAX(nota_arredondada_etapa3) AS nota3,
        MAX(nota_arredondada_etapa4) AS nota4,
        MAX(replace(to_number(nota_arredondada_etapa1_x1,'99D9'),'.',',')) AS nota1_x1,
		MAX(replace(to_number(nota_arredondada_etapa2_x2,'99D9'),'.',',')) AS nota2_x2,
		MAX(replace(to_number(nota_arredondada_etapa3_x3,'99D9'),'.',',')) AS nota3_x3,
		MAX(replace(to_number(nota_arredondada_etapa4_x4,'99D9'),'.',',')) AS nota4_x4,
		MAX(replace(to_number(total_pontos,'999D9'),'.',',')) AS total_pontos,
		MAX(media) AS media,
        MAX(nome_curso) AS nome_curso,
	MAX(nome_serie) AS nome_serie,
        MAX(nome_turma) AS nome_turma,
        MAX(periodo) AS periodo,
		MAX(situacao) AS situacao,
		MAX(nome_aluno) AS nome_aluno,
		MAX(total_faltas_et1) AS total_faltas_et1,
		MAX(total_faltas_et2) AS total_faltas_et2,
		MAX(total_faltas_et3) AS total_faltas_et3,
		MAX(total_faltas_et4) AS total_faltas_et4,
		MAX(total_faltas) AS total_faltas,
		MAX(frequencia) AS frequencia,
    MAX(carga_horaria) AS carga_horaria,
		MAX(faltas_disc_et1) AS faltas_disc_et1,
		MAX(faltas_disc_et2) AS faltas_disc_et2,
		MAX(faltas_disc_et3) AS faltas_disc_et3,
		MAX(faltas_disc_et4) AS faltas_disc_et4
  FROM (SELECT
             (SELECT componente_curricular.nome
                FROM modules.componente_curricular
               WHERE componente_curricular.id = escola_serie_disciplina.ref_cod_disciplina) as nome_disciplina,

               matricula.cod_matricula AS matricula,

                          (SELECT componente_curricular.id
                FROM modules.componente_curricular
               WHERE componente_curricular.id = escola_serie_disciplina.ref_cod_disciplina) as id_disciplina,

             (SELECT CASE  WHEN nota_arredondada = 10 THEN
			                   '10,0'
			               WHEN char_length(et1.nota_arredondada) = 1 and et1.nota_arredondada <> 'D' THEN
			                   replace(et1.nota_arredondada,'.',',') || ',0'
                           ELSE
                               replace(et1.nota_arredondada,'.',',')
                           END
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa1,

             (SELECT CASE  WHEN nota_arredondada = 10 THEN
			                   '10,0'
			               WHEN char_length(et1.nota_arredondada) = 1 and et1.nota_arredondada <> 'D' THEN
			                   replace(et1.nota_arredondada,'.',',') || ',0'
                           ELSE
                               replace(et1.nota_arredondada,'.',',')
                           END
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa2,


             (SELECT CASE  WHEN nota_arredondada = 10 THEN
			                   '10,0'
			               WHEN char_length(et1.nota_arredondada) = 1 and et1.nota_arredondada <> 'D' THEN
			                   replace(et1.nota_arredondada,'.',',') || ',0'
                           ELSE
                               replace(et1.nota_arredondada,'.',',')
                           END
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa3,


             (SELECT CASE  WHEN nota_arredondada = 10 THEN
			                   '10,0'
			               WHEN char_length(et1.nota_arredondada) = 1 and et1.nota_arredondada <> 'D' THEN
			                   replace(et1.nota_arredondada,'.',',') || ',0'
                           ELSE
                               replace(et1.nota_arredondada,'.',',')
                           END
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa4,

             (SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa1_x1,

             (SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa2_x2,

             (SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa3_x3,

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS nota_arredondada_etapa4_x4,

                (SELECT CASE WHEN  (SELECT (((SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) +

             ((SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             ((SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)))) = '100.000'
               THEN
			   '100'
			   ELSE
			   (SELECT (((SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) +

             ((SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             ((SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)))) END)
			   AS total_pontos,

(SELECT CASE WHEN substr(replace(to_number((SELECT (((SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) +

             ((SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             ((SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)))),'999D9'),'.',','),1,1) || ',' || substr(replace(to_number((SELECT (((SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) +

             ((SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             ((SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)))),'999D9'),'.',','),2,1) = '1,0' THEN
                            '10,0'
                       ELSE
                            substr(replace(to_number((SELECT (((SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) +

             ((SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             ((SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)))),'999D9'),'.',','),1,1) || ',' || substr(replace(to_number((SELECT (((SELECT  nota * 1
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 1 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula) +

             ((SELECT  nota * 2
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 2 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             ((SELECT  nota * 3
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 3 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)) +

             (SELECT  nota * 4
                FROM modules.nota_componente_curricular et1,
                     modules.nota_aluno
               WHERE et1.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     et1.etapa = 4 AND
                     nota_aluno.id  = et1.nota_aluno_id AND
                     nota_aluno.matricula_id = matricula.cod_matricula)))),'999D9'),'.',','),2,1)
           END
		FROM modules.nota_componente_curricular_media,
         modules.nota_aluno
               WHERE nota_aluno.id = nota_componente_curricular_media.nota_aluno_id AND
                     nota_componente_curricular_media.componente_curricular_id = escola_serie_disciplina.ref_cod_disciplina AND
                     nota_aluno.matricula_id = matricula.cod_matricula) AS media,


	         (SELECT curso.nm_curso
                FROM pmieducar.curso
	          WHERE curso.cod_curso = matricula.ref_cod_curso AND
                        curso.ativo = 1) AS nome_curso,

            (SELECT serie.nm_serie
               FROM pmieducar.serie
	         WHERE serie.cod_serie = matricula.ref_ref_cod_serie AND
                       serie.ativo = 1) AS nome_serie,

	    (SELECT turma.nm_turma
	       FROM pmieducar.turma,
                    pmieducar.matricula_turma
              WHERE turma.cod_turma = matricula_turma.ref_cod_turma AND
                    matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
                    turma.ativo = 1 AND
					matricula_turma.ativo = 1) AS nome_turma,
	    (SELECT CASE WHEN date_part('hour',hora_inicial) = 7 or date_part('hour',hora_inicial) = 8 THEN 'Matutino'
                     WHEN date_part('hour',hora_inicial) = 13 or date_part('hour',hora_inicial) = 14 THEN 'Vespertino'
                     WHEN date_part('hour',hora_inicial) = 18 or date_part('hour',hora_inicial) = 19 THEN 'Noturno'
                END
	       FROM pmieducar.turma,
                pmieducar.matricula_turma
          WHERE turma.cod_turma = matricula_turma.ref_cod_turma AND
                matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
                turma.ativo = 1 AND
		        matricula_turma.ativo = 1 AND
                turma.hora_inicial IS NOT NULL) AS periodo,

		(SELECT CASE WHEN (SELECT mt.aprovado
		                     FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 1 THEN 'Aprovado'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 2 THEN 'Reprovado'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 3 THEN 'Em Andamento'
                     WHEN (SELECT mt.aprovado
					         FROM pmieducar.matricula mt
							WHERE mt.cod_matricula = matricula.cod_matricula) = 4 THEN 'Transferido'
                ELSE 'Reclassificado'
                END) AS situacao,

		(SELECT pessoa.nome
           FROM cadastro.pessoa,
                cadastro.fisica,
                pmieducar.aluno
          WHERE pessoa.idpes = fisica.idpes AND
                fisica.idpes = aluno.ref_idpes AND
                aluno.cod_aluno = matricula.ref_cod_aluno) AS nome_aluno,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 1 AND
                falta_aluno.tipo_falta = 1) as total_faltas_et1,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 2 AND
                falta_aluno.tipo_falta = 1) as total_faltas_et2,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 3 AND
                falta_aluno.tipo_falta = 1) as total_faltas_et3,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa = 4 AND
                falta_aluno.tipo_falta = 1) as total_faltas_et4,

        (SELECT sum(falta_geral.quantidade)
           FROM modules.falta_geral,
                modules.falta_aluno
          WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_geral.etapa in ('1','2','3','4') AND
                falta_aluno.tipo_falta = 1) as total_faltas,

  (SELECT to_number(100::float -  ((SELECT sum(falta_geral.quantidade)
          FROM modules.falta_geral,
               modules.falta_aluno
         WHERE falta_geral.falta_aluno_id = falta_aluno.id AND
               falta_aluno.matricula_id = matricula.cod_matricula AND
               falta_geral.etapa in('1','2','3','4'))::float / 800::float )::float * 100,'999')) AS frequencia,

    (SELECT to_number(curso.carga_horaria,'999')
       FROM pmieducar.curso
     WHERE curso.cod_curso = matricula.ref_cod_curso) AS carga_horaria,

            (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 1) as faltas_disc_et1,

        (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 2) as faltas_disc_et2,

        (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 3) as faltas_disc_et3,

        (SELECT falta_componente_curricular.quantidade
           FROM modules.falta_componente_curricular,
                modules.falta_aluno
          WHERE falta_componente_curricular.falta_aluno_id = falta_aluno.id AND
                falta_aluno.matricula_id = matricula.cod_matricula AND
                falta_componente_curricular.etapa = 4) as faltas_disc_et4

 FROM  pmieducar.matricula,
			 pmieducar.matricula_turma,
       pmieducar.escola_serie_disciplina

       WHERE escola_serie_disciplina.ref_ref_cod_serie = matricula.ref_ref_cod_serie AND
             escola_serie_disciplina.ref_ref_cod_escola = matricula.ref_ref_cod_escola AND
             escola_serie_disciplina.ativo = 1 AND
             matricula.ref_ref_cod_escola = $P{escola} AND
			 matricula.ref_cod_curso = $P{curso} AND
			 matricula.ref_ref_cod_serie = $P{serie} AND
             matricula.ativo = 1 AND
			 matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
             matricula_turma.ref_cod_turma = $P{turma} AND
             matricula.ano = $P{ano} AND
             (SELECT CASE WHEN $P{matricula} = 0 THEN
                   matricula_turma.ref_cod_matricula = matricula.cod_matricula AND
 		           matricula_turma.ref_cod_turma = $P{turma}
               ELSE
                   matricula.cod_matricula = $P{matricula}
               END)

	) AS etapa1
GROUP BY id_disciplina, nome_disciplina, nome_aluno
ORDER BY nome_aluno, nome_disciplina]]>
	</queryString>
	<field name="ano" class="java.lang.Integer"/>
	<field name="nm_escola" class="java.lang.String"/>
	<field name="nome_instituicao" class="java.lang.String"/>
	<field name="tipo_logradouro" class="java.lang.String"/>
	<field name="logradouro" class="java.lang.String"/>
	<field name="municipio" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<field name="uf_municipio" class="java.lang.String"/>
	<field name="numero" class="java.math.BigDecimal"/>
	<field name="cep" class="java.lang.String"/>
	<field name="fone_ddd" class="java.math.BigDecimal"/>
	<field name="fone" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="data_atual" class="java.lang.String"/>
	<field name="hora_atual" class="java.lang.String"/>
	<field name="nome_disciplina" class="java.lang.String"/>
	<field name="matricula" class="java.lang.Integer"/>
	<field name="id_disciplina" class="java.lang.Integer"/>
	<field name="nota1" class="java.lang.String"/>
	<field name="nota2" class="java.lang.String"/>
	<field name="nota3" class="java.lang.String"/>
	<field name="nota4" class="java.lang.String"/>
	<field name="nota1_x1" class="java.lang.String"/>
	<field name="nota2_x2" class="java.lang.String"/>
	<field name="nota3_x3" class="java.lang.String"/>
	<field name="nota4_x4" class="java.lang.String"/>
	<field name="total_pontos" class="java.lang.String"/>
	<field name="media" class="java.lang.String"/>
	<field name="nome_curso" class="java.lang.String"/>
	<field name="nome_serie" class="java.lang.String"/>
	<field name="nome_turma" class="java.lang.String"/>
	<field name="periodo" class="java.lang.String"/>
	<field name="situacao" class="java.lang.String"/>
	<field name="nome_aluno" class="java.lang.String"/>
	<field name="total_faltas_et1" class="java.lang.Long"/>
	<field name="total_faltas_et2" class="java.lang.Long"/>
	<field name="total_faltas_et3" class="java.lang.Long"/>
	<field name="total_faltas_et4" class="java.lang.Long"/>
	<field name="total_faltas" class="java.lang.Long"/>
	<field name="frequencia" class="java.math.BigDecimal"/>
	<field name="carga_horaria" class="java.math.BigDecimal"/>
	<field name="faltas_disc_et1" class="java.lang.Integer"/>
	<field name="faltas_disc_et2" class="java.lang.Integer"/>
	<field name="faltas_disc_et3" class="java.lang.Integer"/>
	<field name="faltas_disc_et4" class="java.lang.Integer"/>
	<group name="matricula" isStartNewPage="true">
		<groupExpression><![CDATA[$F{matricula}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band height="68">
				<line>
					<reportElement x="227" y="34" width="152" height="1"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<staticText>
					<reportElement x="273" y="36" width="64" height="11"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Secretário(a)]]></text>
				</staticText>
				<line>
					<reportElement x="449" y="34" width="152" height="1"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<staticText>
					<reportElement x="500" y="36" width="49" height="11"/>
					<textElement>
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Diretor(a)]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="172" splitType="Stretch">
			<rectangle>
				<reportElement x="35" y="3" width="732" height="59"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<textField isBlankWhenNull="true">
				<reportElement x="546" y="33" width="66" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ano}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="489" y="47" width="38" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[E-mail:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="112" y="33" width="365" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nm_escola}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="112" y="19" width="365" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true" pdfEncoding="Cp1252" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[SECRETARIA MUNICIPAL DE EDUCAÇÃO]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="527" y="47" width="192" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{email}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="386" y="47" width="34" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Fone:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="112" y="47" width="267" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{logradouro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="421" y="47" width="59" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="112" y="6" width="365" height="14"/>
				<textElement markup="none">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_instituicao}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="489" y="9" width="171" height="20"/>
				<textElement>
					<font fontName="DejaVu Sans" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[FICHA INDIVIDUAL]]></text>
			</staticText>
			<staticText>
				<reportElement x="489" y="33" width="56" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Ano Letivo:]]></text>
			</staticText>
			<staticText>
				<reportElement x="664" y="145" width="30" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Média]]></text>
			</staticText>
			<staticText>
				<reportElement x="39" y="64" width="68" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[01 - CURSO]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="39" y="77" width="170" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_curso}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="256" y="64" width="64" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[02 - TURNO]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="256" y="77" width="100" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{periodo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="368" y="64" width="58" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[03 - SÉRIE]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="368" y="77" width="99" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_serie}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="468" y="64" width="59" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[04 - TURMA]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="468" y="77" width="100" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_turma}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="39" y="94" width="100" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[05 - ALUNO]]></text>
			</staticText>
			<textField>
				<reportElement x="39" y="107" width="242" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_aluno}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="368" y="94" width="75" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[06 - SITUAÇÃO]]></text>
			</staticText>
			<textField>
				<reportElement x="368" y="107" width="94" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{situacao}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="40" y="149" width="170" height="14"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[DISCIPLINA]]></text>
			</staticText>
			<staticText>
				<reportElement x="218" y="145" width="35" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[1º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="267" y="145" width="35" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[2º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="317" y="145" width="35" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[3º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="366" y="145" width="35" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[4º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="219" y="158" width="33" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[NOTA]]></text>
			</staticText>
			<staticText>
				<reportElement x="255" y="145" width="9" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<staticText>
				<reportElement x="268" y="158" width="33" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[NOTA]]></text>
			</staticText>
			<staticText>
				<reportElement x="305" y="145" width="9" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<staticText>
				<reportElement x="317" y="158" width="33" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[NOTA]]></text>
			</staticText>
			<staticText>
				<reportElement x="354" y="145" width="9" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<staticText>
				<reportElement x="367" y="158" width="33" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[NOTA]]></text>
			</staticText>
			<staticText>
				<reportElement x="404" y="145" width="9" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[F]]></text>
			</staticText>
			<line>
				<reportElement x="767" y="62" width="1" height="110"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="35" y="62" width="1" height="109"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="252" y="62" width="1" height="30"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="465" y="62" width="1" height="63"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="35" y="93" width="733" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="35" y="125" width="733" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="515" y="144" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="364" y="62" width="1" height="63"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="414" y="126" width="1" height="44"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="217" y="157" width="402" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="315" y="144" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="265" y="143" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="216" y="126" width="1" height="44"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="35" y="170" width="732" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="737" y="159" width="28" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Freq.]]></text>
			</staticText>
			<staticText>
				<reportElement x="698" y="145" width="35" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Faltas]]></text>
			</staticText>
			<line>
				<reportElement x="567" y="144" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="664" y="158" width="30" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[final]]></text>
			</staticText>
			<staticText>
				<reportElement x="737" y="144" width="28" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[%]]></text>
			</staticText>
			<line>
				<reportElement x="465" y="144" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="623" y="145" width="36" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Total de]]></text>
			</staticText>
			<staticText>
				<reportElement x="624" y="158" width="34" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[pontos]]></text>
			</staticText>
			<staticText>
				<reportElement x="468" y="94" width="100" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[07 - CARGA HORÁRIA]]></text>
			</staticText>
			<line>
				<reportElement x="35" y="143" width="732" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="362" y="125" width="100" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="364" y="144" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="290" y="128" width="66" height="13"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[AVALIAÇÕES]]></text>
			</staticText>
			<staticText>
				<reportElement x="486" y="128" width="66" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[RESULTADO]]></text>
			</staticText>
			<staticText>
				<reportElement x="417" y="145" width="46" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[1º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="427" y="158" width="29" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[1º X 1]]></text>
			</staticText>
			<staticText>
				<reportElement x="467" y="145" width="46" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[2º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="477" y="158" width="29" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[2º X 2]]></text>
			</staticText>
			<staticText>
				<reportElement x="519" y="145" width="46" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[3º BIM.]]></text>
			</staticText>
			<staticText>
				<reportElement x="529" y="159" width="29" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[3º X 3]]></text>
			</staticText>
			<staticText>
				<reportElement x="571" y="145" width="46" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[4º BIM.]]></text>
			</staticText>
			<line>
				<reportElement x="619" y="126" width="1" height="44"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="580" y="159" width="29" height="11"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<text><![CDATA[4º X 4]]></text>
			</staticText>
			<line>
				<reportElement x="660" y="144" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="697" y="144" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="735" y="144" width="1" height="26"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="253" y="158" width="13" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas_et1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="303" y="158" width="13" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas_et2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="352" y="158" width="13" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas_et3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="402" y="158" width="13" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas_et4}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="705" y="159" width="24" height="11"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_faltas}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="45" y="6" width="57" height="46"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField>
				<reportElement x="468" y="107" width="100" height="14"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{carga_horaria}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="698" y="157" width="69" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<rectangle>
				<reportElement mode="Opaque" x="37" y="0" width="730" height="16" forecolor="#FFFFFF" backcolor="#F0F0F0">
					<printWhenExpression><![CDATA[new Boolean(($V{COLUMN_COUNT} % 2) == 1)]]></printWhenExpression>
				</reportElement>
			</rectangle>
			<textField isBlankWhenNull="true">
				<reportElement x="222" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="272" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="39" y="1" width="170" height="15"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_disciplina}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="253" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="265" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="216" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="35" y="16" width="732" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="35" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="767" y="-2" width="1" height="18"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="303" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="315" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="352" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="364" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="320" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota3}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="414" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="370" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota4}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="515" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="666" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{media}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="567" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="739" y="1" width="26" height="16"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{frequencia}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="465" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="628" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total_pontos}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="429" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota1}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="619" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="660" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="697" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="735" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="478" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota2_x2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="530" y="1" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota3_x3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="582" y="0" width="26" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nota4_x4}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="253" y="-29" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="303" y="-28" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="352" y="-29" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="402" y="-29" width="1" height="27"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="253" y="1" width="13" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{faltas_disc_et1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="304" y="1" width="11" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{faltas_disc_et2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="352" y="1" width="12" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{faltas_disc_et3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="402" y="1" width="13" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{faltas_disc_et4}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="402" y="-1" width="1" height="17"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
		</band>
	</detail>
	<columnFooter>
		<band height="16" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="16" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="19" splitType="Stretch"/>
	</summary>
</jasperReport>
